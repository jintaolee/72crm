---------------------------------------------------------------
[ 2019-07-20T10:22:17+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/funnel
[ info ] localhost/72crm/index.php/crm/index/funnel [运行时间：0.654197s][吞吐率：1.53req/s] [内存消耗：1,221.55kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000077s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '19',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'type_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000305s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->funnel[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.023996s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.013066s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001523s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001247s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001410s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001765s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001029s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000928s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001017s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001954s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.000845s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001535s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.000854s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001234s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.000643s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.001168s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:244]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:247]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:267]
---------------------------------------------------------------
[ 2019-07-20T10:22:30+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.030111s][吞吐率：33.21req/s] [内存消耗：1,232.59kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000035s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
  'module' => 'crm',
  'controller' => 'customer',
  'action' => 'index',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000284s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004041s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003482s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001951s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004005s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001228s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000934s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000913s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001509s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001017s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001190s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001043s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:22:30+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/todayCustomer
[ info ] localhost/72crm/index.php/crm/message/todayCustomer [运行时间：0.252395s][吞吐率：3.96req/s] [内存消耗：1,535.30kb] [文件加载：78]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'todayCustomer',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '41',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'types' => 'list',
  'type' => '1',
  'isSub' => '0',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001214s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->todayCustomer[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002732s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002348s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003790s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.001765s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001624s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001607s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005017s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004794s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001491s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001457s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001359s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001183s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003478s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003932s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001827s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001335s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001762s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003096s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001686s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001882s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002483s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002162s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005616s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.001445s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.001394s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.002381s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.002297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.007120s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001359s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001526s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001784s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001411s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001315s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003845s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001898s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001506s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001709s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001329s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001992s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001601s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003303s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002391s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001886s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001042s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001682s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001598s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001438s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002647s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003203s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002536s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001900s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002493s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001365s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001700s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001520s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002053s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001366s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002533s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005019s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003243s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002088s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001621s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001900s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002454s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.004898s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.004086s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001686s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001630s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001643s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.025851s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001919s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003445s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003866s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
---------------------------------------------------------------
[ 2019-07-20T10:22:32+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.027098s][吞吐率：36.90req/s] [内存消耗：1,232.80kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'controller' => 'contract',
  'action' => 'index',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000374s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001750s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001756s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001473s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001322s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001438s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004355s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002177s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001330s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001890s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001160s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:22:32+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/checkContract
[ info ] localhost/72crm/index.php/crm/message/checkContract [运行时间：0.163110s][吞吐率：6.13req/s] [内存消耗：1,557.73kb] [文件加载：77]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'checkcontract',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '41',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'types' => 'list',
  'type' => '1',
  'isSub' => '0',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000205s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->checkContract[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001530s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001715s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001058s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001556s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000975s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004428s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003069s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002025s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002406s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002046s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001032s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001322s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001310s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001847s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002033s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.002616s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003277s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001208s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000929s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001036s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000912s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005410s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.001403s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.001157s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001219s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001597s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004043s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002005s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001622s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001887s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001927s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001659s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001647s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001984s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001775s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002082s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002380s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001634s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001185s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001810s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002103s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001232s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001812s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002225s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001205s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001443s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001873s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002097s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001790s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002744s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001423s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001765s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001310s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002174s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001837s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004285s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001532s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001162s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002307s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000816s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001222s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001739s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002919s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002427s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001847s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002083s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:40]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:41]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
---------------------------------------------------------------
[ 2019-07-20T10:22:33+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.066762s][吞吐率：14.98req/s] [内存消耗：1,190.77kb] [文件加载：70]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000040s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000306s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003696s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003587s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002609s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.005712s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_business' OR (  `types` = 'crm_business'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.002673s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002263s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002930s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_business')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.002283s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` LIMIT 1 [ RunTime:0.001893s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001471s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `5kcrm_admin_structure` WHERE  (  id = 1 ) LIMIT 1 [ RunTime:0.001450s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001809s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` = '1'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.000952s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001221s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 OR `type_id` = 0 ORDER BY `order_id` ASC [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_business' ORDER BY `order_id` ASC [ RunTime:0.001255s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:22:34+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.150205s][吞吐率：6.66req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000036s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000422s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004261s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002899s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001755s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002948s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.009338s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003916s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005514s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004710s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005824s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `is_unique` = 1 [ RunTime:0.003395s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:34+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.087907s][吞吐率：11.38req/s] [内存消耗：1,232.07kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000091s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000977s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006905s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006622s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006245s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005191s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004912s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.009238s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001394s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001095s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.002918s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.004862s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004121s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_business')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001305s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:22:34+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/index
[ info ] localhost/72crm/index.php/crm/business/index [运行时间：0.204303s][吞吐率：4.89req/s] [内存消耗：1,597.29kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.037072s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001678s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003204s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001155s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001193s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001210s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004787s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001694s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003748s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002342s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002164s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004914s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002183s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001376s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003543s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004495s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001050s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.000995s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001606s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001698s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002489s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002070s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001882s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002407s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001784s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002464s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `form_type` = 'user' [ RunTime:0.001461s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `form_type` = 'structure' [ RunTime:0.002021s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002656s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001430s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000910s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001260s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001218s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001300s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002189s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004011s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001856s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001983s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000926s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001207s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001047s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000981s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001739s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002911s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005642s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001276s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000738s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.001353s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004522s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002787s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001607s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001353s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002886s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001977s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001394s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001410s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004330s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001492s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001936s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001437s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001256s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001223s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003677s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002270s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002344s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002408s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001451s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001800s ]
[ sql ] [ SQL ] SELECT `business`.*,customer.name as customer_name FROM `5kcrm_crm_business` `business` LEFT JOIN `5kcrm_crm_customer` `customer` ON `business`.`customer_id`=`customer`.`customer_id` WHERE  (  ( `business`.`owner_user_id` IN (2) ) OR ( `business`.`ro_user_id` LIKE '%,2,%' )  OR ( `business`.`rw_user_id` LIKE '%,2,%' ) ) ORDER BY `business`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001539s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` `business` LEFT JOIN `5kcrm_crm_customer` `customer` ON `business`.`customer_id`=`customer`.`customer_id` WHERE  (  ( `business`.`owner_user_id` IN (2) ) OR ( `business`.`ro_user_id` LIKE '%,2,%' )  OR ( `business`.`rw_user_id` LIKE '%,2,%' ) ) LIMIT 1 [ RunTime:0.001781s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001392s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.002185s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.001911s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business_status` WHERE  ( `type_id` = 1 or `type_id` = 0 ) LIMIT 1 [ RunTime:0.001060s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001896s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.001616s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:40]
[ error ] [8]未定义数组索引: contacts_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:67]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:119]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
---------------------------------------------------------------
[ 2019-07-20T10:22:35+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.038872s][吞吐率：25.73req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000231s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002244s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002168s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004048s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.005311s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_receivables' OR (  `types` = 'crm_receivables'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001577s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000975s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002592s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_receivables')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.002573s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_receivables' ORDER BY `order_id` ASC [ RunTime:0.001190s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:22:35+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.055801s][吞吐率：17.92req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000288s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003832s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009663s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001866s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001934s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001960s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002369s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001631s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001761s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `is_unique` = 1 [ RunTime:0.001214s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:35+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.049858s][吞吐率：20.06req/s] [内存消耗：1,232.31kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '68',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000423s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.013926s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007102s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001854s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001694s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001620s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001707s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001855s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005071s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_receivables')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001993s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:22:35+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/receivables/index
[ info ] localhost/72crm/index.php/crm/receivables/index [运行时间：0.175550s][吞吐率：5.70req/s] [内存消耗：1,576.20kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'receivables',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.031153s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Receivables->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Receivables.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001531s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002779s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003791s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001707s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002504s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001596s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001977s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001642s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001677s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002334s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.006797s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001876s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001340s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001441s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000962s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001107s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001554s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.001300s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000993s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000962s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000910s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000943s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001227s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'user' [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'structure' [ RunTime:0.000994s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001104s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004200s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002649s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001554s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001117s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000763s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001155s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002292s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002267s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001234s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001568s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001782s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001733s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001970s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002440s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001646s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001769s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001687s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.001227s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001047s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001229s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001179s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001184s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003959s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002931s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001612s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001368s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000990s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001037s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001496s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005136s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001742s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001065s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.001014s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001124s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001039s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001452s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003355s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003498s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001081s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001711s ]
[ sql ] [ SQL ] SELECT `receivables`.*,customer.name as customer_name,contract.name as contract_name,contract.num as contract_num,contract.money as contract_money FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`owner_user_id` IN (2) ORDER BY `receivables`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001439s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.003544s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:88]
---------------------------------------------------------------
[ 2019-07-20T10:22:36+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.029461s][吞吐率：33.94req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000019s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000286s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002188s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004990s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001909s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001282s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_product' OR (  `types` = 'crm_product'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001033s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001317s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.002544s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001806s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001205s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_product' ORDER BY `order_id` ASC [ RunTime:0.000981s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:22:36+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.055344s][吞吐率：18.07req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000040s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000248s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002079s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006454s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001225s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001879s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002842s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002752s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002243s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.005655s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004270s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `is_unique` = 1 [ RunTime:0.001406s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:36+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.044552s][吞吐率：22.45req/s] [内存消耗：1,232.03kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000053s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '60',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001955s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003407s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003689s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001266s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003913s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002315s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003121s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000959s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001815s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003457s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.002800s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:22:36+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/product/index
[ info ] localhost/72crm/index.php/crm/product/index [运行时间：0.105722s][吞吐率：9.46req/s] [内存消耗：1,284.48kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'product',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.025469s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Product->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Product.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001462s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001801s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002573s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001299s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001975s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001621s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001568s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000947s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000968s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001307s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002499s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.010597s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.005246s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.030723s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.004000s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `scene_id` IS NULL LIMIT 1 [ RunTime:0.006877s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003374s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `form_type` = 'user' [ RunTime:0.000926s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `form_type` = 'structure' [ RunTime:0.000868s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_product` [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT `product`.*,product_category.name as category_name FROM `5kcrm_crm_product` `product` LEFT JOIN `5kcrm_crm_product_category` `product_category` ON `product_category`.`category_id`=`product`.`category_id` WHERE  `product`.`status` = '上架' LIMIT 0,15 [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT COUNT(product_id) AS tp_count FROM `5kcrm_crm_product` `product` LEFT JOIN `5kcrm_crm_product_category` `product_category` ON `product_category`.`category_id`=`product`.`category_id` WHERE  `product`.`status` = '上架' LIMIT 1 [ RunTime:0.000860s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Product.php:40]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: product.status[/Users/kinta/workspace/php/72crm/application/crm/model/Product.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:22:38+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.066164s][吞吐率：15.11req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000297s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002000s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002460s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001541s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002191s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003225s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003039s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002666s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002225s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001788s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001816s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001599s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001947s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002285s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001696s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002972s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001470s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002909s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002603s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001516s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000746s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002145s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003626s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:38+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.066379s][吞吐率：15.06req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.001060s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000621s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004541s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005153s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003514s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002195s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001636s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.012000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004728s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003035s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002872s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002150s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:38+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/total
[ info ] localhost/72crm/index.php/bi/customer/total [运行时间：0.266987s][吞吐率：3.75req/s] [内存消耗：1,339.41kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'total',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000967s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->total[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002327s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003623s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003551s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003681s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005907s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003273s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002989s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003801s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002108s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004171s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001824s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001842s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002280s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.010128s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003749s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003043s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002581s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003348s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003528s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003025s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002631s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002860s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002392s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003239s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001289s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004937s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006607s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002787s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005030s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.003774s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001876s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001416s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001282s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001444s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002173s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003629s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.004215s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002797s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004705s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.001898s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001979s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.001375s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001823s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002117s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002289s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.001763s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001864s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.002491s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002198s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.013038s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002244s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
---------------------------------------------------------------
[ 2019-07-20T10:22:39+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/statistics
[ info ] localhost/72crm/index.php/bi/customer/statistics [运行时间：0.457571s][吞吐率：2.19req/s] [内存消耗：1,321.03kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000044s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'statistics',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000533s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->statistics[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.007043s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005297s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004413s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.009872s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006066s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002539s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002630s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001224s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008593s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.069289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003652s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.008997s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001512s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001637s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001504s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001944s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002239s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001837s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001816s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001640s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002178s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001331s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002242s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001588s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002234s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001998s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003727s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.005784s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.005732s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`thumb_img`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.003011s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002159s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.004755s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003192s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002729s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.001608s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.002287s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `return_time` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.001267s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:22:41+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.089085s][吞吐率：11.23req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000308s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001615s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002109s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002092s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003814s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005434s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002981s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004133s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002096s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002298s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001761s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001682s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001804s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.006914s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001930s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001459s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001692s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001651s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001499s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003370s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002376s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001301s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001738s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001390s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003891s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:41+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.056478s][吞吐率：17.71req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000488s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008309s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010112s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002562s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001220s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006375s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002718s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001186s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001186s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001603s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001469s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001280s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:41+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordTimes
[ info ] localhost/72crm/index.php/bi/customer/recordTimes [运行时间：0.242953s][吞吐率：4.12req/s] [内存消耗：1,344.26kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordTimes',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002351s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordTimes[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009945s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010849s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002885s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002126s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.007097s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.013180s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002742s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003814s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001201s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002732s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003359s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002692s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002568s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001687s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003998s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004725s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003101s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001316s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005070s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003871s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.006487s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.004935s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003913s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006205s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007414s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001523s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001730s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001790s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.002272s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.001680s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001806s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001343s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002850s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.002128s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001333s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.005905s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002776s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.001227s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.003239s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.001290s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002103s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.002954s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002261s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.002481s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002376s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002073s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.003483s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.005814s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.003437s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.001629s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001791s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
---------------------------------------------------------------
[ 2019-07-20T10:22:41+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordList
[ info ] localhost/72crm/index.php/bi/customer/recordList [运行时间：0.393836s][吞吐率：2.54req/s] [内存消耗：1,304.13kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000396s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012647s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006245s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001516s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.013164s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003892s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002489s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.008698s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002512s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002446s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003277s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004225s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002849s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002943s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004178s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002540s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002403s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002620s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001583s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003313s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002915s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003145s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001188s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.005398s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002045s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002813s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001802s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005010s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002219s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002464s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.004279s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.021895s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.001823s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.009313s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.002242s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:22:42+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.074517s][吞吐率：13.42req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000215s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001630s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001493s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001496s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001416s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001751s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003395s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001974s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002030s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001769s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002786s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002211s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003400s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002728s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002017s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001704s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002548s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003926s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004583s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003921s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001020s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002428s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001324s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.005130s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:42+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordMode
[ info ] localhost/72crm/index.php/bi/customer/recordMode [运行时间：0.201350s][吞吐率：4.97req/s] [内存消耗：1,319.30kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordMode',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.005257s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordMode[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004422s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007609s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005019s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002175s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006831s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004268s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002606s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.007272s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004215s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005096s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004932s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004912s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003724s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004087s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.006790s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002984s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003705s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006356s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006428s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003722s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003441s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004396s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002334s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002683s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005378s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.014248s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004289s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003710s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002301s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001627s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.007475s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.003383s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '打电话' LIMIT 1 [ RunTime:0.001697s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '发邮件' LIMIT 1 [ RunTime:0.003361s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '发短信' LIMIT 1 [ RunTime:0.005085s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '见面拜访' LIMIT 1 [ RunTime:0.002432s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '活动' LIMIT 1 [ RunTime:0.001282s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:22:42+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.239031s][吞吐率：4.18req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000721s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003142s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008638s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001853s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001570s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001159s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002768s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003367s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003263s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003236s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:44+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.104387s][吞吐率：9.58req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000293s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001724s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001702s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001208s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004559s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002441s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002039s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003490s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002692s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002784s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002716s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003022s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006372s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003448s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001859s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003079s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.007448s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003672s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001610s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002138s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.008591s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004160s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007598s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002174s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001640s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001272s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:44+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.113584s][吞吐率：8.80req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.005793s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009513s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008628s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006356s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005977s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003771s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004206s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006904s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.005641s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.014698s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.011705s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002481s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:45+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/conversion
[ info ] localhost/72crm/index.php/bi/customer/conversion [运行时间：0.362860s][吞吐率：2.76req/s] [内存消耗：1,339.43kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'conversion',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000267s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->conversion[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003034s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.014693s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005306s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008846s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.011064s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006101s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001943s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003131s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003435s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002918s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.015232s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.007161s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005206s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003476s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.005183s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.009858s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.009718s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003758s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001708s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003822s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003679s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004584s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.010451s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002618s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003420s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005642s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001190s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001027s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002051s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002254s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002197s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.007538s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.003239s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002724s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.003181s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004328s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.001554s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002425s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002747s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.007585s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.003803s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004619s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.003390s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001794s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.002907s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002516s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.001930s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002470s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.001631s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002188s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.003455s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002922s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.003985s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004019s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
---------------------------------------------------------------
[ 2019-07-20T10:22:45+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/conversionInfo
[ info ] localhost/72crm/index.php/bi/customer/conversionInfo [运行时间：0.530245s][吞吐率：1.89req/s] [内存消耗：1,322.61kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'conversionInfo',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000417s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->conversionInfo[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008348s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009710s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004862s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005081s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.012364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003124s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005272s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002882s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005381s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002945s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003795s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002605s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003960s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001135s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004487s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003039s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003742s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002231s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005737s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002003s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001509s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002904s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002914s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007574s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.009512s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002536s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003321s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.008899s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.007149s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002263s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.012074s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name`,`owner_user_id`,`create_user_id`,`industry`,`source`,`create_time` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `deal_status` = '已成交' [ RunTime:0.001561s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:22:46+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.183784s][吞吐率：5.44req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000035s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000260s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003873s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008324s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006883s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004759s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003965s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004220s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002627s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004912s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002631s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002588s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005086s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002959s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002795s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003955s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003002s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003597s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003628s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002913s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002878s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004427s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005231s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003905s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.005189s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.026512s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003191s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:46+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/pool
[ info ] localhost/72crm/index.php/bi/customer/pool [运行时间：0.255075s][吞吐率：3.92req/s] [内存消耗：1,345.26kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'pool',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000958s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->pool[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004829s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002744s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003327s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001823s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006640s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004123s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001509s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004309s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001961s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001988s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004702s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003993s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.008383s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004559s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001935s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001533s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005030s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006958s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003030s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001869s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002592s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002867s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005881s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004527s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003125s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001230s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002973s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003846s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.002726s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001395s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001839s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003097s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002685s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003306s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001821s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.004277s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003185s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001719s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001628s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002343s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.005589s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.013252s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002844s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002234s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.004596s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.004351s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002627s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001756s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001433s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002081s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002476s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003493s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
---------------------------------------------------------------
[ 2019-07-20T10:22:46+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.296630s][吞吐率：3.37req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000116s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000583s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008745s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006537s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002474s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004650s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005029s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003860s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000899s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005757s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002772s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.005559s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003576s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:47+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/poolList
[ info ] localhost/72crm/index.php/bi/customer/poolList [运行时间：0.443117s][吞吐率：2.26req/s] [内存消耗：1,322.14kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000096s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'poolList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000282s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->poolList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006868s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006450s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002455s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003616s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003773s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004776s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002894s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004654s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003441s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005948s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005987s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003849s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.006812s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002648s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002441s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005111s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002757s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002457s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003014s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002380s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004078s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003185s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002296s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004666s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003455s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002451s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001929s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001157s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002481s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.007594s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002398s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`structure_id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.001724s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` WHERE  (  id =1 ) LIMIT 1 [ RunTime:0.003430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.004342s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001862s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002427s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.004326s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.002002s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:22:48+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.061571s][吞吐率：16.24req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000042s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000320s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002126s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002453s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001766s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002048s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001212s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001175s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003271s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001808s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001466s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001632s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002008s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002564s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001651s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001456s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001416s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001164s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001937s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002044s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003432s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001522s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001254s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001670s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:48+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.209408s][吞吐率：4.78req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000257s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002149s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002764s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002302s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002606s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003785s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003004s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004121s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003157s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008017s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004392s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.016735s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.009541s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.009229s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.015050s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002376s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.005793s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001866s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003453s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008809s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005389s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002701s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001725s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002213s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003971s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.455319s][吞吐率：2.20req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000385s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003099s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002530s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001228s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.018807s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.044130s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.022240s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002910s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006428s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005931s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005507s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002302s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003119s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.010350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003898s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003299s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.007123s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002551s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001889s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004430s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005969s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002576s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002354s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002980s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.013460s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001065s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.005242s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.425786s][吞吐率：2.35req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.003321s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.019650s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.028314s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006618s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004938s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002662s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002722s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.020739s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001483s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001703s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003559s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:49+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/userCycle
[ info ] localhost/72crm/index.php/bi/customer/userCycle [运行时间：0.771054s][吞吐率：1.30req/s] [内存消耗：1,358.53kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'userCycle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000205s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->userCycle[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.030177s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.030294s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.007149s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004646s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.009537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004701s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006003s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006621s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004688s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003488s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002643s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004254s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001603s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003135s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001726s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001937s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.011497s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.011844s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003893s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.011101s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001494s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.007899s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003499s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006795s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004884s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005777s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007789s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003172s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.011238s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001964s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.004408s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003466s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' [ RunTime:0.010173s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002047s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' [ RunTime:0.008984s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' [ RunTime:0.009939s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003583s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' [ RunTime:0.005744s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.009038s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' [ RunTime:0.002523s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.005394s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' [ RunTime:0.008572s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.005121s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' [ RunTime:0.013451s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002578s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' [ RunTime:0.001982s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.006363s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' [ RunTime:0.008204s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003894s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' [ RunTime:0.002140s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.009229s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' [ RunTime:0.006575s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002684s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' [ RunTime:0.001704s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.001834s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002795s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' [ RunTime:0.004809s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
---------------------------------------------------------------
[ 2019-07-20T10:22:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.675459s][吞吐率：1.48req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000965s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010823s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009397s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.027545s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.018163s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006240s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003329s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.011073s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003911s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002389s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.005325s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.007753s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.548811s][吞吐率：1.82req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000035s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000381s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.017563s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006003s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005149s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005222s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001451s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004840s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003531s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003646s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001611s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002232s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:55+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/event
[ info ] localhost/72crm/index.php/oa/index/event [运行时间：0.074299s][吞吐率：13.46req/s] [内存消耗：1,056.02kb] [文件加载：63]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000142s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'event',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'start_time' => '1563589375',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001192s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->event[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.028197s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.021681s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.001898s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_oa_event` WHERE  `start_time` <= 1563675775  AND `end_time` >= 1563589375  AND (  `owner_user_ids` LIKE '%,2,%' OR `create_user_id` = 2 ) [ RunTime:0.002020s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:55+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/eventList
[ info ] localhost/72crm/index.php/oa/index/eventList [运行时间：0.071173s][吞吐率：14.05req/s] [内存消耗：1,059.99kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000038s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'eventList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001057s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->eventList[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.017670s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003895s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.003373s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_oa_event` WHERE  (  ( ( start_time BETWEEN 1561910400 AND 1564588799 ) AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( ( end_time BETWEEN 1561910400 AND 1564588799 ) AND  ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( start_time < 1561910400 AND end_time > 1564588799 AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) ) [ RunTime:0.002807s ]
[ error ] [8]未定义数组索引: start_time[/Users/kinta/workspace/php/72crm/application/oa/controller/Index.php:224]
---------------------------------------------------------------
[ 2019-07-20T10:22:55+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/message/num
[ info ] localhost/72crm/index.php/oa/message/num [运行时间：0.128358s][吞吐率：7.79req/s] [内存消耗：1,083.10kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000067s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'message',
    2 => 'num',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000240s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Message->num[ /Users/kinta/workspace/php/72crm/application/oa/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.015423s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.016680s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.007502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.002577s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_event` WHERE  (  ( ( start_time BETWEEN 1563552000 AND 1563638399 ) AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( ( end_time BETWEEN 1563552000 AND 1563638399 ) AND  ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( start_time < 1563552000 AND end_time > 1563638399 AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) ) LIMIT 1 [ RunTime:0.011446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_task` [ RunTime:0.004155s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_task` WHERE  (   ishidden=0 and ( main_user_id =2 or create_user_id =2 or ( is_open = 1 and owner_user_id like "%,2,%") ) )  AND `pid` = 0  AND `status` <> 5 LIMIT 1 [ RunTime:0.001888s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_announcement` [ RunTime:0.002851s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_announcement` WHERE  (   ( owner_user_ids LIKE "%,2,%" OR structure_ids LIKE "%,1,%" OR create_user_id = 2 OR (owner_user_ids = "" AND structure_ids = "")) )  AND `start_time` <= 1563552000  AND `end_time` >= 1563552000  AND `read_user_ids` NOT LIKE '%,2,%' LIMIT 1 [ RunTime:0.001143s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_log` [ RunTime:0.001559s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_log` WHERE  `read_user_ids` NOT LIKE '%,2,%'  AND (  ( `send_user_ids` LIKE '%,2,%' ) OR ( `send_structure_ids` LIKE '%,1,%' ) ) LIMIT 1 [ RunTime:0.001727s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_examine` [ RunTime:0.002305s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_examine` WHERE  (  ( `check_user_id` LIKE '%,2,%' OR `check_user_id` = 2 ) ) LIMIT 1 [ RunTime:0.001026s ]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/oa/controller/Message.php:48]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: examineWhere[/Users/kinta/workspace/php/72crm/application/oa/controller/Message.php:100]
---------------------------------------------------------------
[ 2019-07-20T10:22:55+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/taskList
[ info ] localhost/72crm/index.php/oa/index/taskList [运行时间：0.143670s][吞吐率：6.96req/s] [内存消耗：1,049.07kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000173s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'taskList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000641s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->taskList[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.030189s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.018968s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_task` [ RunTime:0.003796s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_task` WHERE  (  ( main_user_id = 2 or create_user_id =2 or owner_user_id like "%,2,%") and status=1 and ishidden=0 ) LIMIT 1 [ RunTime:0.001995s ]
[ sql ] [ SQL ] SELECT `task_id`,`name`,`stop_time`,`priority`,`create_time`,`pid` FROM `5kcrm_task` WHERE  (   ( main_user_id = 2 or create_user_id =2 or owner_user_id like "%,2,%") and status=1 and ishidden=0 ) [ RunTime:0.003837s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:55+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/index
[ info ] localhost/72crm/index.php/oa/index/index [运行时间：0.128752s][吞吐率：7.77req/s] [内存消耗：1,139.16kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000179s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '0',
  'page' => '1',
  'limit' => '15',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000587s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004592s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003380s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002830s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002196s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004966s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000994s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_log` [ RunTime:0.001391s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_action_log` WHERE  (   ( module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) ORDER BY `create_time` DESC LIMIT 0,15 [ RunTime:0.001425s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_log` WHERE  (   ( module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) LIMIT 1 [ RunTime:0.000958s ]
---------------------------------------------------------------
[ 2019-07-20T10:22:57+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/event/index
[ info ] localhost/72crm/index.php/oa/event/index [运行时间：0.031681s][吞吐率：31.56req/s] [内存消耗：1,119.65kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'event',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '41',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'start_time' => '1561939200',
  'end_time' => '1565568000',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001404s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Event->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Event.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002743s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002722s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004178s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.006336s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_oa_event` WHERE  (  ( ( start_time BETWEEN 1561939200 AND 1565568000 ) AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( ( end_time BETWEEN 1561939200 AND 1565568000 ) AND  ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( start_time < 1561939200 AND end_time > 1565568000 AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) ) [ RunTime:0.003090s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_event` WHERE  (  ( ( start_time BETWEEN 1561939200 AND 1565568000 ) AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( ( end_time BETWEEN 1561939200 AND 1565568000 ) AND  ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( start_time < 1561939200 AND end_time > 1565568000 AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) ) LIMIT 1 [ RunTime:0.005246s ]
[ error ] [2]Declaration of app\oa\model\Event::getDataById($id, $param) should be compatible with app\admin\model\Common::getDataById($id = '')[/Users/kinta/workspace/php/72crm/application/oa/model/Event.php:0]
[ error ] [2]Declaration of app\oa\model\Event::delDataById($param) should be compatible with app\admin\model\Common::delDataById($id = '', $delSon = false)[/Users/kinta/workspace/php/72crm/application/oa/model/Event.php:0]
---------------------------------------------------------------
[ 2019-07-20T10:23:00+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/users/getUserList
[ info ] localhost/72crm/index.php/admin/users/getUserList [运行时间：0.048111s][吞吐率：20.79req/s] [内存消耗：1,189.30kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'users',
    2 => 'getUserList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000178s ]
[ info ] [ RUN ] app\admin\controller\Users->getUserList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Users.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003199s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002387s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002832s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001014s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001781s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001588s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001368s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001072s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001149s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001056s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001019s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,structure.name as s_name FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IN (1,2)  AND (  user.status>0 and user.type=1 ) [ RunTime:0.001364s ]
[ error ] [8]未定义数组索引: by[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:183]
[ error ] [8]未定义数组索引: m[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:184]
---------------------------------------------------------------
[ 2019-07-20T10:23:00+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/task/myTask
[ info ] localhost/72crm/index.php/oa/task/myTask [运行时间：0.070989s][吞吐率：14.09req/s] [内存消耗：1,157.27kb] [文件加载：69]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'task',
    2 => 'myTask',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '36',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'priority' => 'all',
  'limit' => '15',
  'page' => '1',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000246s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Task->myTask[ /Users/kinta/workspace/php/72crm/application/oa/controller/Task.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002738s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004365s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002192s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_task` [ RunTime:0.002361s ]
[ sql ] [ SQL ] SELECT `t`.`task_id`,t.name as task_name,`t`.`main_user_id`,`t`.`is_top`,`t`.`work_id`,`t`.`lable_id`,`t`.`priority`,`t`.`stop_time`,`t`.`status`,`t`.`pid`,`t`.`create_time`,`t`.`owner_user_id`,u.realname as main_user_name,`u`.`thumb_img`,w.name as work_name FROM `5kcrm_task` `t` LEFT JOIN `5kcrm_admin_user` `u` ON `u`.`id`=`t`.`main_user_id` LEFT JOIN `5kcrm_work` `w` ON `w`.`work_id`=`t`.`work_id` WHERE  (   (t.status =1 or t.status=5) and  t.priority >= 0 and  t.ishidden=0 and ( t.main_user_id =2 or t.create_user_id =2 or  ( t.is_open = 1 and t.owner_user_id like "%,2,%") ) )  AND `t`.`pid` = 0 ORDER BY `t`.`task_id` DESC LIMIT 0,15 [ RunTime:0.005166s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_task` `t` WHERE  (   (t.status =1 or t.status=5) and  t.priority >= 0 and  t.ishidden=0 and ( t.main_user_id =2 or t.create_user_id =2 or  ( t.is_open = 1 and t.owner_user_id like "%,2,%") ) )  AND `t`.`pid` = 0 LIMIT 1 [ RunTime:0.002391s ]
[ error ] [8]未定义数组索引: task_id[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:40]
[ error ] [2]Declaration of app\work\model\WorkLable::updateDataById($param) should be compatible with app\admin\model\Common::updateDataById($param, $id)[/Users/kinta/workspace/php/72crm/application/work/model/WorkLable.php:0]
[ error ] [2]Declaration of app\work\model\WorkLable::delDataById($param) should be compatible with app\admin\model\Common::delDataById($id = '', $delSon = false)[/Users/kinta/workspace/php/72crm/application/work/model/WorkLable.php:0]
[ error ] [2]Declaration of app\work\model\Task::getDataById($id, $userInfo) should be compatible with app\admin\model\Common::getDataById($id = '')[/Users/kinta/workspace/php/72crm/application/work/model/Task.php:0]
[ error ] [8]未定义数组索引: status[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:242]
[ error ] [8]未定义数组索引: status[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:242]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:245]
[ error ] [8]未定义数组索引: work_id[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:247]
[ error ] [8]未定义数组索引: stop_type[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:270]
---------------------------------------------------------------
[ 2019-07-20T10:23:01+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/announcement/index
[ info ] localhost/72crm/index.php/oa/announcement/index [运行时间：0.063669s][吞吐率：15.71req/s] [内存消耗：1,171.97kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'announcement',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
  'limit' => '15',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000283s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Announcement->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Announcement.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002560s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006683s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002203s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003089s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001936s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002381s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002569s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001757s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002929s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002180s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002152s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002474s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `5kcrm_admin_structure` WHERE  (  id = 1 ) LIMIT 1 [ RunTime:0.002018s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_announcement` [ RunTime:0.003689s ]
[ sql ] [ SQL ] SELECT `announcement`.*,`user`.`realname`,`user`.`thumb_img` FROM `5kcrm_oa_announcement` `announcement` LEFT JOIN `5kcrm_admin_user` `user` ON `user`.`id`=`announcement`.`create_user_id` WHERE  (  end_time >= 1563552000 AND start_time <= 1563552000 AND  ( owner_user_ids LIKE "%,2,%" OR structure_ids LIKE "%,1,%" OR create_user_id = 2 OR (owner_user_ids = "" AND structure_ids = "")) ) ORDER BY `announcement`.`create_time` DESC LIMIT 0,15 [ RunTime:0.001780s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001135s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001560s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001920s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_announcement` `announcement` WHERE  (  end_time >= 1563552000 AND start_time <= 1563552000 AND  ( owner_user_ids LIKE "%,2,%" OR structure_ids LIKE "%,1,%" OR create_user_id = 2) ) LIMIT 1 [ RunTime:0.002996s ]
[ error ] [2]Declaration of app\oa\model\Announcement::delDataById($param) should be compatible with app\admin\model\Common::delDataById($id = '', $delSon = false)[/Users/kinta/workspace/php/72crm/application/oa/model/Announcement.php:0]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/oa/model/Announcement.php:43]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:23:07+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/users/getUserList
[ info ] localhost/72crm/index.php/admin/users/getUserList [运行时间：0.060318s][吞吐率：16.58req/s] [内存消耗：1,189.30kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000046s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'users',
    2 => 'getUserList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000903s ]
[ info ] [ RUN ] app\admin\controller\Users->getUserList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Users.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001711s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003696s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004735s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003464s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001975s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.010334s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003136s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002043s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002158s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003132s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002143s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.003072s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000764s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000731s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,structure.name as s_name FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IN (1,2)  AND (  user.status>0 and user.type=1 ) [ RunTime:0.000986s ]
[ error ] [8]未定义数组索引: by[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:183]
[ error ] [8]未定义数组索引: m[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:184]
---------------------------------------------------------------
[ 2019-07-20T10:23:07+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/task/myTask
[ info ] localhost/72crm/index.php/oa/task/myTask [运行时间：0.070293s][吞吐率：14.23req/s] [内存消耗：1,157.27kb] [文件加载：69]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'task',
    2 => 'myTask',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '36',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'priority' => 'all',
  'limit' => '15',
  'page' => '1',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000947s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Task->myTask[ /Users/kinta/workspace/php/72crm/application/oa/controller/Task.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002380s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005673s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003939s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_task` [ RunTime:0.005505s ]
[ sql ] [ SQL ] SELECT `t`.`task_id`,t.name as task_name,`t`.`main_user_id`,`t`.`is_top`,`t`.`work_id`,`t`.`lable_id`,`t`.`priority`,`t`.`stop_time`,`t`.`status`,`t`.`pid`,`t`.`create_time`,`t`.`owner_user_id`,u.realname as main_user_name,`u`.`thumb_img`,w.name as work_name FROM `5kcrm_task` `t` LEFT JOIN `5kcrm_admin_user` `u` ON `u`.`id`=`t`.`main_user_id` LEFT JOIN `5kcrm_work` `w` ON `w`.`work_id`=`t`.`work_id` WHERE  (   (t.status =1 or t.status=5) and  t.priority >= 0 and  t.ishidden=0 and ( t.main_user_id =2 or t.create_user_id =2 or  ( t.is_open = 1 and t.owner_user_id like "%,2,%") ) )  AND `t`.`pid` = 0 ORDER BY `t`.`task_id` DESC LIMIT 0,15 [ RunTime:0.003009s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_task` `t` WHERE  (   (t.status =1 or t.status=5) and  t.priority >= 0 and  t.ishidden=0 and ( t.main_user_id =2 or t.create_user_id =2 or  ( t.is_open = 1 and t.owner_user_id like "%,2,%") ) )  AND `t`.`pid` = 0 LIMIT 1 [ RunTime:0.000841s ]
[ error ] [8]未定义数组索引: task_id[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:40]
[ error ] [2]Declaration of app\work\model\WorkLable::updateDataById($param) should be compatible with app\admin\model\Common::updateDataById($param, $id)[/Users/kinta/workspace/php/72crm/application/work/model/WorkLable.php:0]
[ error ] [2]Declaration of app\work\model\WorkLable::delDataById($param) should be compatible with app\admin\model\Common::delDataById($id = '', $delSon = false)[/Users/kinta/workspace/php/72crm/application/work/model/WorkLable.php:0]
[ error ] [2]Declaration of app\work\model\Task::getDataById($id, $userInfo) should be compatible with app\admin\model\Common::getDataById($id = '')[/Users/kinta/workspace/php/72crm/application/work/model/Task.php:0]
[ error ] [8]未定义数组索引: status[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:242]
[ error ] [8]未定义数组索引: status[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:242]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:245]
[ error ] [8]未定义数组索引: work_id[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:247]
[ error ] [8]未定义数组索引: stop_type[/Users/kinta/workspace/php/72crm/application/oa/controller/Task.php:270]
---------------------------------------------------------------
[ 2019-07-20T10:23:07+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/addresslist/index
[ info ] localhost/72crm/index.php/oa/addresslist/index [运行时间：0.019616s][吞吐率：50.98req/s] [内存消耗：1,057.17kb] [文件加载：66]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'addresslist',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '6',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000222s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Addresslist->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Addresslist.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004302s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002180s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001975s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,`user`.`post`,`user`.`structure_id`,structure.name as structure_name,`user`.`username`,`user`.`mobile`,`user`.`sex`,`user`.`email`,`user`.`status` FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` LEFT JOIN `5kcrm_hrm_user_det` `hud` ON `hud`.`user_id`=`user`.`id` WHERE  `user`.`status` = 1 [ RunTime:0.001060s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/oa/controller/Addresslist.php:43]
---------------------------------------------------------------
[ 2019-07-20T10:23:07+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/addresslist/index
[ info ] localhost/72crm/index.php/oa/addresslist/index [运行时间：0.030974s][吞吐率：32.29req/s] [内存消耗：1,056.98kb] [文件加载：66]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'addresslist',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000442s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Addresslist->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Addresslist.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003049s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002390s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001243s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002180s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`username`,`user`.`thumb_img`,`user`.`post`,`user`.`structure_id`,`user`.`mobile`,`user`.`sex`,`user`.`email` FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_hrm_user_det` `hud` ON `hud`.`user_id`=`user`.`id` WHERE  `user`.`status` = 1  AND `user`.`structure_id` = 1 ORDER BY `realname` ASC [ RunTime:0.001280s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/oa/controller/Addresslist.php:43]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/oa/controller/Addresslist.php:46]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/num
[ info ] localhost/72crm/index.php/crm/message/num [运行时间：0.688351s][吞吐率：1.45req/s] [内存消耗：2,862.62kb] [文件加载：82]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'num',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000336s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->num[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001574s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001619s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001932s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.015496s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.017857s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.007041s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001037s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001869s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002199s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003670s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002994s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001364s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001518s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002350s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002161s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001593s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001310s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001155s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001519s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001573s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001485s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001261s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001485s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003498s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001411s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002097s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.001479s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.001325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.001395s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.002574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.004841s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.002068s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001002s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001439s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001153s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001418s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002057s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002523s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002487s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001301s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001381s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001674s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001349s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003137s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003785s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003376s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002191s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003109s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001602s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007054s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002305s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002156s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001494s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001558s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002302s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001927s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002164s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002299s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001189s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001138s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002614s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001924s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002386s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001063s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001406s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001428s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002243s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003353s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002026s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002113s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001866s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001316s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001115s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001239s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003181s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001424s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'leads'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002268s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001856s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001042s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001063s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001819s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005397s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001524s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001010s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003579s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003072s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002693s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001857s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001365s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'user' [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'structure' [ RunTime:0.001205s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002342s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003268s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002755s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001530s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001481s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001128s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002268s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001235s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003752s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001869s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001606s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001594s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000954s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001892s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004376s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000976s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001919s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002907s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001846s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.002127s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001467s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001234s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001024s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001381s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001340s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001673s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001669s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001637s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002150s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001018s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003364s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002451s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002112s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001067s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001955s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001427s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004166s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001476s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002123s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001539s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001002s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_leads` [ RunTime:0.001738s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`follow` <> '已跟进'  AND `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) ORDER BY `update_time` DESC LIMIT 0,15 [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT COUNT(leads_id) AS tp_count FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`follow` <> '已跟进'  AND `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001520s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001545s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000808s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001266s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001768s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001495s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001028s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007935s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001167s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001159s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000974s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001148s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001426s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.002516s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.001616s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.004032s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001736s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001116s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001871s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003087s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000804s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001054s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001300s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001016s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000982s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001731s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001906s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001170s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000960s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001281s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001243s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002789s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001308s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001207s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000957s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000952s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001232s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002046s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001872s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001039s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001241s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001155s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001003s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 1 LIMIT 1 [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.000782s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.003084s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `customer_id` = 4 LIMIT 1 [ RunTime:0.001400s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001018s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001017s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001123s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001253s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.002174s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001181s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001143s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001107s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000761s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.000760s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000892s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001902s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001211s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000725s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001445s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001306s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001208s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001249s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000957s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000721s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000618s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000808s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001139s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001507s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001775s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001329s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001323s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000607s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001049s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001253s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002235s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001489s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001707s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'receivables'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000743s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001248s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001044s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.023352s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001457s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001433s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001119s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001079s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001128s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001421s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'user' [ RunTime:0.001535s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'structure' [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001036s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001165s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001019s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001573s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001002s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001081s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000799s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000762s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000648s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.000971s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001047s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000736s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001194s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001723s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001009s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001017s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000763s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001458s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001992s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001029s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001003s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000751s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.000990s ]
[ sql ] [ SQL ] SELECT `receivables`.*,customer.name as customer_name,contract.name as contract_name,contract.num as contract_num,contract.money as contract_money FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`check_user_id` LIKE '%,2,%'  AND `receivables`.`check_status` = '0'  AND `receivables`.`owner_user_id` IN (2) ORDER BY `receivables`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`check_user_id` LIKE '%,2,%'  AND `receivables`.`check_status` = '0'  AND `receivables`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000766s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables_plan` [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT `receivables_plan`.*,customer.name as customer_name,contract.name as contract_name FROM `5kcrm_crm_receivables_plan` `receivables_plan` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables_plan`.`contract_id`=`contract`.`contract_id` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables_plan`.`customer_id`=`customer`.`customer_id` WHERE  `receivables_plan`.`receivables_id` = 0  AND `receivables_plan`.`remind_date` <= '2019-07-20'  AND `receivables_plan`.`return_date` >= '2019-07-20'  AND `contract`.`owner_user_id` = 2 LIMIT 0,15 [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT COUNT(plan_id) AS tp_count FROM `5kcrm_crm_receivables_plan` `receivables_plan` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables_plan`.`contract_id`=`contract`.`contract_id` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables_plan`.`customer_id`=`customer`.`customer_id` WHERE  `receivables_plan`.`receivables_id` = 0  AND `receivables_plan`.`remind_date` <= '2019-07-20'  AND `receivables_plan`.`return_date` >= '2019-07-20'  AND `contract`.`owner_user_id` = 2 LIMIT 1 [ RunTime:0.000664s ]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:93]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:94]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:95]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:127]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:128]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:129]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:38]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:39]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:40]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:97]
[ error ] [8]未定义数组索引: leads.is_transform[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:103]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:159]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:160]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:161]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:191]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:192]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:193]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:40]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:41]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:225]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:226]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:227]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:39]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:40]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:88]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:259]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:260]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:261]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:36]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:37]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:38]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: contract_config[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:77]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/users/getUserList
[ info ] localhost/72crm/index.php/admin/users/getUserList [运行时间：0.695700s][吞吐率：1.44req/s] [内存消耗：1,184.84kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'users',
    2 => 'getUserList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '6',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'by' => 'sub',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.003621s ]
[ info ] [ RUN ] app\admin\controller\Users->getUserList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Users.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.017523s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006707s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001837s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001982s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001849s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001527s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001283s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001505s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001428s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001521s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,structure.name as s_name FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IN (2)  AND (  user.status>0 and user.type=1 ) [ RunTime:0.001025s ]
[ error ] [8]未定义数组索引: m[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:184]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/saletrend
[ info ] localhost/72crm/index.php/crm/index/saletrend [运行时间：0.728181s][吞吐率：1.37req/s] [内存消耗：1,281.88kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'saletrend',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000238s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->saletrend[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.013731s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008646s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001124s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001606s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001218s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001159s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002005s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000997s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001463s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-01-01' AND '2019-02-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000779s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001148s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-01-01' AND '2019-02-01' LIMIT 1 [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-02-01' AND '2019-03-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000976s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-02-01' AND '2019-03-01' LIMIT 1 [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-03-01' AND '2019-04-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-03-01' AND '2019-04-01' LIMIT 1 [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-04-01' AND '2019-05-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-04-01' AND '2019-05-01' LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-05-01' AND '2019-06-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-05-01' AND '2019-06-01' LIMIT 1 [ RunTime:0.002065s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-06-01' AND '2019-07-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001260s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-06-01' AND '2019-07-01' LIMIT 1 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-07-01' AND '2019-08-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-07-01' AND '2019-08-01' LIMIT 1 [ RunTime:0.000819s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-08-01' AND '2019-09-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000747s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-08-01' AND '2019-09-01' LIMIT 1 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-09-01' AND '2019-10-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-09-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-10-01' AND '2019-11-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-11-01' AND '2019-12-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.000591s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-12-01' AND '2020-01-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000619s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.000620s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:286]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:289]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：0.748270s][吞吐率：1.34req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000038s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000275s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.019831s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008620s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002154s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.003435s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.002220s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.002094s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.001078s ]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/index
[ info ] localhost/72crm/index.php/crm/index/index [运行时间：0.809213s][吞吐率：1.24req/s] [内存消耗：1,228.91kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000112s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000218s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.021143s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004914s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005650s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001475s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003193s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002085s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001862s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001222s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002454s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000999s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001368s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001553s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contacts` [ RunTime:0.001462s ]
[ sql ] [ SQL ] SELECT COUNT(contacts_id) AS tp_count FROM `5kcrm_crm_contacts` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000806s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001252s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002101s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.002296s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.002080s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.002374s ]
[ sql ] [ SQL ] SELECT COUNT(record_id) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (2)  AND `owner_user_id` IN (2)  AND `status_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.016872s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:65]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/achievementData
[ info ] localhost/72crm/index.php/crm/index/achievementData [运行时间：0.842814s][吞吐率：1.19req/s] [内存消耗：1,221.97kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'achievementData',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'status' => '2',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000329s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->achievementData[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.016890s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.012406s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001754s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003194s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003745s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003116s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002710s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001358s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004308s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001917s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001465s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002166s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31'  AND `check_status` = 2 LIMIT 1 [ RunTime:0.000837s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001147s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2 LIMIT 1 [ RunTime:0.000683s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_achievement` [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_achievement` WHERE  `status` = 2  AND `year` IN (2019)  AND (  ( `obj_id` IN (2) AND `type` = 3 ) ) [ RunTime:0.000927s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:140]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:141]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:145]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:148]
---------------------------------------------------------------
[ 2019-07-20T10:23:16+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/funnel
[ info ] localhost/72crm/index.php/crm/index/funnel [运行时间：0.119886s][吞吐率：8.34req/s] [内存消耗：1,221.25kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '19',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'type_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000549s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->funnel[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.017189s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007969s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005079s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002172s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002977s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004494s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001300s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001079s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000991s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001070s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002079s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001622s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001495s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.001081s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.000770s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001205s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.001004s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.001949s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.001996s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.004136s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.003470s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.001848s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.001629s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.001668s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.000751s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:244]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:247]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:267]
---------------------------------------------------------------
[ 2019-07-20T10:23:38+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.042083s][吞吐率：23.76req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000035s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000265s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002250s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002144s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003403s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006071s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003248s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002595s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002357s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001904s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003244s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `is_unique` = 1 [ RunTime:0.005984s ]
---------------------------------------------------------------
[ 2019-07-20T10:23:38+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.064865s][吞吐率：15.42req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000061s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000257s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002366s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004012s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001742s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.003978s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_contract' OR (  `types` = 'crm_contract'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.002329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.005101s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001096s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002055s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001808s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_contract' ORDER BY `order_id` ASC [ RunTime:0.001545s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:23:38+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.025615s][吞吐率：39.04req/s] [内存消耗：1,232.80kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000289s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003930s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004185s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001548s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001196s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001440s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001027s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000928s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001274s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000951s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001285s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001038s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:23:38+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/contract/index
[ info ] localhost/72crm/index.php/crm/contract/index [运行时间：0.189257s][吞吐率：5.28req/s] [内存消耗：1,603.55kb] [文件加载：81]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'contract',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.032633s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Contract->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001943s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001903s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002365s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003654s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001642s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001184s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001023s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001035s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001777s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001538s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001417s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002729s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003247s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001211s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001351s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001387s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001809s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002705s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002578s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001290s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000768s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000761s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001879s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001215s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000918s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000961s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000929s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002053s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.000781s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001014s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001203s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001389s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001796s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004223s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.021523s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001255s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001334s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001461s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005450s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001780s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001379s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001404s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001303s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001131s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002335s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005940s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001500s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001370s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001070s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004026s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001795s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001384s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001745s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000963s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002411s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004209s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001454s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001128s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003046s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002085s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001514s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001099s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
---------------------------------------------------------------
[ 2019-07-20T10:23:41+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.038637s][吞吐率：25.88req/s] [内存消耗：1,232.59kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '61',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'controller' => 'contract',
  'action' => 'save',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000303s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003011s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004282s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001559s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001805s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001546s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001376s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001409s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003014s ]
[ sql ] [ SQL ] SELECT `field`,`types`,`name`,`form_type`,`default_value`,`is_unique`,`is_null`,`input_tips`,`setting` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `types_id` = 0 ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.003683s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname`,`thumb_img` FROM `5kcrm_admin_user` WHERE  `id` IN ('') [ RunTime:0.002989s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract_product` [ RunTime:0.003172s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_contract_product` WHERE  `contract_id` IS NULL [ RunTime:0.001200s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
[ error ] [8]未定义数组索引: customer_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:614]
[ error ] [8]未定义数组索引: business_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:616]
[ error ] [8]未定义数组索引: order_date[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:686]
[ error ] [8]未定义数组索引: start_time[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:686]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:686]
[ error ] [8]未定义数组索引: contacts_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:618]
[ error ] [8]未定义数组索引: order_user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:601]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:586]
[ error ] [8]未定义数组索引: total_price[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:597]
[ error ] [8]未定义数组索引: discount_rate[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:598]
---------------------------------------------------------------
[ 2019-07-20T10:23:41+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/examine_flow/stepList
[ info ] localhost/72crm/index.php/admin/examine_flow/stepList [运行时间：0.093214s][吞吐率：10.73req/s] [内存消耗：1,232.70kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000036s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'examine_flow',
    2 => 'stepList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '40',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'types_id' => '',
  'action' => 'save',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000460s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\ExamineFlow->stepList[ /Users/kinta/workspace/php/72crm/application/admin/controller/ExamineFlow.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002892s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004218s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001796s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.012841s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006537s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001702s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006363s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.003540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_examine_flow` [ RunTime:0.002749s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_examine_flow` WHERE  (  `config` = 1  AND `types` = 'crm_contract'  AND `status` = 1  AND `is_deleted` = 0  AND `types_id` = 0  AND (  `structure_ids` LIKE '%,1,%' OR `user_ids` LIKE '%,2,%' ) ) OR (  `config` = 1  AND `types` = 'crm_contract'  AND `status` = 1  AND `is_deleted` = 0  AND `types_id` = 0  AND `structure_ids` = ''  AND `user_ids` = '' )  OR (  `config` = 0  AND `types` = 'crm_contract'  AND `status` = 1  AND `is_deleted` = 0  AND `types_id` = 0 ) ORDER BY `update_time` DESC LIMIT 1 [ RunTime:0.001845s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IS NULL LIMIT 1 [ RunTime:0.003274s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001763s ]
[ error ] [8]未定义数组索引: flow_id[/Users/kinta/workspace/php/72crm/application/admin/controller/ExamineFlow.php:209]
[ error ] [8]未定义数组索引: thumb_img[/Users/kinta/workspace/php/72crm/application/admin/model/User.php:726]
---------------------------------------------------------------
[ 2019-07-20T10:24:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.028241s][吞吐率：35.41req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000049s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000238s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002109s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004244s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003723s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001596s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000955s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001510s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `is_unique` = 1 [ RunTime:0.003138s ]
---------------------------------------------------------------
[ 2019-07-20T10:24:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.061388s][吞吐率：16.29req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000019s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000430s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002125s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005372s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003788s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.004101s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_product' OR (  `types` = 'crm_product'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.002755s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003398s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.004189s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001893s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001312s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_product' ORDER BY `order_id` ASC [ RunTime:0.001846s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:24:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.023693s][吞吐率：42.21req/s] [内存消耗：1,232.03kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '60',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000333s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001612s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003019s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001941s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000983s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001084s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001290s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000892s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000743s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000656s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002297s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.002383s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:24:18+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/product/index
[ info ] localhost/72crm/index.php/crm/product/index [运行时间：0.054688s][吞吐率：18.29req/s] [内存消耗：1,284.48kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'product',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.031405s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Product->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Product.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002806s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001796s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001056s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002767s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001535s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002022s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001300s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000998s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003611s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003411s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001848s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003263s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001420s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.002195s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `scene_id` IS NULL LIMIT 1 [ RunTime:0.001464s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002659s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `form_type` = 'user' [ RunTime:0.001273s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `form_type` = 'structure' [ RunTime:0.000920s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_product` [ RunTime:0.001491s ]
[ sql ] [ SQL ] SELECT `product`.*,product_category.name as category_name FROM `5kcrm_crm_product` `product` LEFT JOIN `5kcrm_crm_product_category` `product_category` ON `product_category`.`category_id`=`product`.`category_id` WHERE  `product`.`status` = '上架' LIMIT 0,15 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SELECT COUNT(product_id) AS tp_count FROM `5kcrm_crm_product` `product` LEFT JOIN `5kcrm_crm_product_category` `product_category` ON `product_category`.`category_id`=`product`.`category_id` WHERE  `product`.`status` = '上架' LIMIT 1 [ RunTime:0.000837s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Product.php:40]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: product.status[/Users/kinta/workspace/php/72crm/application/crm/model/Product.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:24:26+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.022024s][吞吐率：45.41req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000057s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000338s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002354s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002346s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001325s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_product' OR (  `types` = 'crm_product'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001044s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001276s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000889s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001800s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001318s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_product' ORDER BY `order_id` ASC [ RunTime:0.001407s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:24:32+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/index/fields
[ info ] localhost/72crm/index.php/admin/index/fields [运行时间：0.014320s][吞吐率：69.83req/s] [内存消耗：1,080.45kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000041s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'fields',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000191s ]
[ info ] [ RUN ] app\admin\controller\Index->fields[ /Users/kinta/workspace/php/72crm/application/admin/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001697s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002098s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001040s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001281s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001046s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
---------------------------------------------------------------
[ 2019-07-20T10:24:39+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/configIndex
[ info ] localhost/72crm/index.php/admin/field/configIndex [运行时间：0.026004s][吞吐率：38.46req/s] [内存消耗：1,182.75kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000052s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'configIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000411s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->configIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002841s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002928s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001290s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001173s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001542s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001293s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001119s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002407s ]
[ sql ] [ SQL ] SELECT `field`,`name` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('-1') ORDER BY `types` DESC,`order_id` ASC [ RunTime:0.001311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001326s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000942s ]
---------------------------------------------------------------
[ 2019-07-20T10:24:46+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/index/fields
[ info ] localhost/72crm/index.php/admin/index/fields [运行时间：0.017567s][吞吐率：56.92req/s] [内存消耗：1,080.45kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'fields',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.005218s ]
[ info ] [ RUN ] app\admin\controller\Index->fields[ /Users/kinta/workspace/php/72crm/application/admin/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002187s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001534s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.000936s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001209s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.000935s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
---------------------------------------------------------------
[ 2019-07-20T10:24:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.053220s][吞吐率：18.79req/s] [内存消耗：1,221.05kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000035s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '59',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
  'module' => 'crm',
  'controller' => 'product',
  'action' => 'save',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000800s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003787s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004321s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001778s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008121s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002255s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002842s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006088s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.006322s ]
[ sql ] [ SQL ] SELECT `field`,`types`,`name`,`form_type`,`default_value`,`is_unique`,`is_null`,`input_tips`,`setting` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `types_id` = 0 ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.003655s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
[ error ] [8]未定义变量: new_field_list[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:550]
[ error ] [8]未定义数组索引: category_str[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:627]
---------------------------------------------------------------
[ 2019-07-20T10:24:49+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/product_category/index
[ info ] localhost/72crm/index.php/crm/product_category/index [运行时间：0.045983s][吞吐率：21.75req/s] [内存消耗：1,181.13kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000059s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'product_category',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'tree',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000284s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\ProductCategory->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/ProductCategory.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004891s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004519s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002513s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001998s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002609s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001270s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004135s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_product_category` [ RunTime:0.002908s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_product_category` ORDER BY `category_id` [ RunTime:0.002605s ]
[ error ] [8]未定义数组索引: else[/Users/kinta/workspace/php/72crm/extend/com/Category.php:78]
---------------------------------------------------------------
[ 2019-07-20T10:25:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.039586s][吞吐率：25.26req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000267s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002205s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003024s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003668s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002816s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001186s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001564s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001180s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003420s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.007064s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `is_unique` = 1 [ RunTime:0.002516s ]
---------------------------------------------------------------
[ 2019-07-20T10:25:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.063541s][吞吐率：15.74req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000247s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003147s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004549s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006020s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.002309s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_contract' OR (  `types` = 'crm_contract'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.002886s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002800s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001232s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002792s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.002225s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_contract' ORDER BY `order_id` ASC [ RunTime:0.002934s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:25:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.031995s][吞吐率：31.25req/s] [内存消耗：1,232.80kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000210s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002543s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003169s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003067s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002133s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001678s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001651s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.002977s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001870s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001532s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001287s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:25:11+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/contract/index
[ info ] localhost/72crm/index.php/crm/contract/index [运行时间：0.241378s][吞吐率：4.14req/s] [内存消耗：1,603.55kb] [文件加载：81]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'contract',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.035394s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Contract->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001452s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001355s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001017s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001239s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001346s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001191s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.007385s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002192s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001056s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001100s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001102s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003068s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001161s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002216s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001292s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002081s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002676s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004319s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001808s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001641s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.006078s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001052s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001037s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001096s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000971s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001138s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001718s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001416s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002272s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.001965s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.008302s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001469s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001237s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001252s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001598s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.004543s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001182s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.003063s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007690s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002640s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001475s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000892s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001332s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003217s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002450s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001628s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000989s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002048s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001426s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002460s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.006305s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002241s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003706s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.009612s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001054s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001835s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.009416s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003250s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001733s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001290s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.007383s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004218s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002494s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.007717s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001466s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001256s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000991s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001311s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003586s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002071s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001894s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001558s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001288s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
---------------------------------------------------------------
[ 2019-07-20T10:25:12+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/examine_flow/stepList
[ info ] localhost/72crm/index.php/admin/examine_flow/stepList [运行时间：0.058912s][吞吐率：16.97req/s] [内存消耗：1,232.70kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000040s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'examine_flow',
    2 => 'stepList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '40',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'types_id' => '',
  'action' => 'save',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000221s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\ExamineFlow->stepList[ /Users/kinta/workspace/php/72crm/application/admin/controller/ExamineFlow.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001740s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002320s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001998s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003434s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003211s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004705s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005091s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002814s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001938s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_examine_flow` [ RunTime:0.005795s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_examine_flow` WHERE  (  `config` = 1  AND `types` = 'crm_contract'  AND `status` = 1  AND `is_deleted` = 0  AND `types_id` = 0  AND (  `structure_ids` LIKE '%,1,%' OR `user_ids` LIKE '%,2,%' ) ) OR (  `config` = 1  AND `types` = 'crm_contract'  AND `status` = 1  AND `is_deleted` = 0  AND `types_id` = 0  AND `structure_ids` = ''  AND `user_ids` = '' )  OR (  `config` = 0  AND `types` = 'crm_contract'  AND `status` = 1  AND `is_deleted` = 0  AND `types_id` = 0 ) ORDER BY `update_time` DESC LIMIT 1 [ RunTime:0.004548s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IS NULL LIMIT 1 [ RunTime:0.005477s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002932s ]
[ error ] [8]未定义数组索引: flow_id[/Users/kinta/workspace/php/72crm/application/admin/controller/ExamineFlow.php:209]
[ error ] [8]未定义数组索引: thumb_img[/Users/kinta/workspace/php/72crm/application/admin/model/User.php:726]
---------------------------------------------------------------
[ 2019-07-20T10:25:12+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.107219s][吞吐率：9.33req/s] [内存消耗：1,232.59kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '61',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'controller' => 'contract',
  'action' => 'save',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001580s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002150s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002789s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002963s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004010s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006584s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003048s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005126s ]
[ sql ] [ SQL ] SELECT `field`,`types`,`name`,`form_type`,`default_value`,`is_unique`,`is_null`,`input_tips`,`setting` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `types_id` = 0 ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.002327s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname`,`thumb_img` FROM `5kcrm_admin_user` WHERE  `id` IN ('') [ RunTime:0.002234s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract_product` [ RunTime:0.003137s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_contract_product` WHERE  `contract_id` IS NULL [ RunTime:0.001798s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
[ error ] [8]未定义数组索引: customer_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:614]
[ error ] [8]未定义数组索引: business_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:616]
[ error ] [8]未定义数组索引: order_date[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:686]
[ error ] [8]未定义数组索引: start_time[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:686]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:686]
[ error ] [8]未定义数组索引: contacts_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:618]
[ error ] [8]未定义数组索引: order_user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:601]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:586]
[ error ] [8]未定义数组索引: total_price[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:597]
[ error ] [8]未定义数组索引: discount_rate[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:598]
---------------------------------------------------------------
[ 2019-07-20T10:26:37+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.045819s][吞吐率：21.82req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000687s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003404s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005562s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003553s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001368s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001383s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002287s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002198s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003549s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001702s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `is_unique` = 1 [ RunTime:0.001025s ]
---------------------------------------------------------------
[ 2019-07-20T10:26:37+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.076192s][吞吐率：13.12req/s] [内存消耗：1,190.77kb] [文件加载：70]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000038s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000452s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003524s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007134s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.013209s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001693s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_business' OR (  `types` = 'crm_business'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001031s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001206s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.002999s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002149s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_business')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` LIMIT 1 [ RunTime:0.001605s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001986s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `5kcrm_admin_structure` WHERE  (  id = 1 ) LIMIT 1 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001237s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` = '1'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.000827s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001030s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 OR `type_id` = 0 ORDER BY `order_id` ASC [ RunTime:0.000934s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_business' ORDER BY `order_id` ASC [ RunTime:0.002647s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:26:37+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.028296s][吞吐率：35.34req/s] [内存消耗：1,232.07kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000241s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001645s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003641s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002264s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001949s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001389s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001146s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001070s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001036s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001406s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.003741s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_business')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001911s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:26:38+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/index
[ info ] localhost/72crm/index.php/crm/business/index [运行时间：0.170890s][吞吐率：5.85req/s] [内存消耗：1,597.29kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.023991s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001520s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000957s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001102s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004550s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003448s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001096s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000815s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.000988s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001148s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.000792s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.004733s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.002152s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000746s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001042s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.001086s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002058s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001826s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000656s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000775s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001231s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `form_type` = 'user' [ RunTime:0.000747s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `form_type` = 'structure' [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001841s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001059s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001153s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001182s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001357s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001807s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003102s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004287s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001977s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002082s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002053s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001757s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001368s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001509s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001301s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001140s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.002166s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000819s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001177s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002185s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003395s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002530s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001659s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001178s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001442s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.003471s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.002987s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001573s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001850s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001455s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001044s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000812s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.006912s ]
[ sql ] [ SQL ] SELECT `business`.*,customer.name as customer_name FROM `5kcrm_crm_business` `business` LEFT JOIN `5kcrm_crm_customer` `customer` ON `business`.`customer_id`=`customer`.`customer_id` WHERE  (  ( `business`.`owner_user_id` IN (2) ) OR ( `business`.`ro_user_id` LIKE '%,2,%' )  OR ( `business`.`rw_user_id` LIKE '%,2,%' ) ) ORDER BY `business`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001517s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` `business` LEFT JOIN `5kcrm_crm_customer` `customer` ON `business`.`customer_id`=`customer`.`customer_id` WHERE  (  ( `business`.`owner_user_id` IN (2) ) OR ( `business`.`ro_user_id` LIKE '%,2,%' )  OR ( `business`.`rw_user_id` LIKE '%,2,%' ) ) LIMIT 1 [ RunTime:0.001798s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001707s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001542s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.003808s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business_status` WHERE  ( `type_id` = 1 or `type_id` = 0 ) LIMIT 1 [ RunTime:0.001659s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001722s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.001493s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:40]
[ error ] [8]未定义数组索引: contacts_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:67]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:119]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
---------------------------------------------------------------
[ 2019-07-20T10:26:39+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/setting/recordList
[ info ] localhost/72crm/index.php/crm/setting/recordList [运行时间：0.036255s][吞吐率：27.58req/s] [内存消耗：1,163.40kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000048s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'setting',
    2 => 'recordList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000281s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Setting->recordList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Setting.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002005s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002950s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002662s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004238s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005686s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002182s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002880s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.001350s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` WHERE  `name` = 'record_type' LIMIT 1 [ RunTime:0.000823s ]
---------------------------------------------------------------
[ 2019-07-20T10:26:39+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/record/index
[ info ] localhost/72crm/index.php/admin/record/index [运行时间：0.056417s][吞吐率：17.73req/s] [内存消耗：1,208.16kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'record',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '55',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '10',
  'types' => 'crm_business',
  'types_id' => '1',
  'by' => 'record',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000250s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Record->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Record.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002756s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004651s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.002194s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_record` WHERE  `types` = 'crm_business'  AND `types_id` = 1 OR (  `business_ids` LIKE '%,1,%' ) ORDER BY `create_time` DESC LIMIT 0,10 [ RunTime:0.001186s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  (  `types` = 'crm_business'  AND `types_id` = 1 OR (  `business_ids` LIKE '%,1,%' ) ) LIMIT 1 [ RunTime:0.001114s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002489s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003346s ]
[ error ] [2]Declaration of app\work\model\WorkLable::updateDataById($param) should be compatible with app\admin\model\Common::updateDataById($param, $id)[/Users/kinta/workspace/php/72crm/application/work/model/WorkLable.php:0]
[ error ] [2]Declaration of app\work\model\WorkLable::delDataById($param) should be compatible with app\admin\model\Common::delDataById($id = '', $delSon = false)[/Users/kinta/workspace/php/72crm/application/work/model/WorkLable.php:0]
[ error ] [2]Declaration of app\work\model\Task::getDataById($id, $userInfo) should be compatible with app\admin\model\Common::getDataById($id = '')[/Users/kinta/workspace/php/72crm/application/work/model/Task.php:0]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:26:40+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/read
[ info ] localhost/72crm/index.php/crm/business/read [运行时间：0.132761s][吞吐率：7.53req/s] [内存消耗：1,339.41kb] [文件加载：77]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'read',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '4',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.065272s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->read[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002771s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003273s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004267s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003313s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002031s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001375s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003687s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001843s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001794s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001125s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002282s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.016904s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003880s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.004114s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business` WHERE  `business_id` = 1 LIMIT 1 [ RunTime:0.003025s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001684s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.004380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002519s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.001014s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001372s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.000942s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005088s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.003085s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001447s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001135s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001344s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001199s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001308s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.000799s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002883s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004477s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001189s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000784s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000816s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001089s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.000790s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:27:06+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.037438s][吞吐率：26.71req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000055s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.006036s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004774s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004025s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001828s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001387s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_contract' OR (  `types` = 'crm_contract'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001026s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001775s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.002385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003097s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001382s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_contract' ORDER BY `order_id` ASC [ RunTime:0.001680s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:06+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.055791s][吞吐率：17.92req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000054s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.005510s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004078s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004711s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002852s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002179s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002411s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001216s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002170s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `is_unique` = 1 [ RunTime:0.001070s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:06+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.050126s][吞吐率：19.95req/s] [内存消耗：1,232.80kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000310s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.020874s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002262s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001720s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002238s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001373s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001041s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001364s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000994s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003170s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.002505s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:07+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/contract/index
[ info ] localhost/72crm/index.php/crm/contract/index [运行时间：0.203622s][吞吐率：4.91req/s] [内存消耗：1,603.55kb] [文件加载：81]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'contract',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.038310s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Contract->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001784s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001609s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005002s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002949s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001839s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001974s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001096s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001536s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002161s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003725s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002728s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001617s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002228s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001857s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001270s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003827s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.002654s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001084s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001289s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001294s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001600s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002306s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001427s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001181s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001839s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001640s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.006929s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004765s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.002248s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.001796s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003923s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006542s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001652s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002134s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004388s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002915s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001963s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001707s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002255s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004418s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001680s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001611s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002061s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001030s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002092s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003574s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001961s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001227s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002108s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002476s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001250s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000979s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001050s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001368s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001368s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002298s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002133s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000768s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002750s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001736s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000977s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001504s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001395s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001319s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
---------------------------------------------------------------
[ 2019-07-20T10:27:07+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.047128s][吞吐率：21.22req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000332s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004626s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005762s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001251s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002786s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002115s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005474s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `is_unique` = 1 [ RunTime:0.000954s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:07+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.063622s][吞吐率：15.72req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000364s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005638s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004654s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.002019s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_receivables' OR (  `types` = 'crm_receivables'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.003968s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002548s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001487s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001728s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_receivables')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_receivables' ORDER BY `order_id` ASC [ RunTime:0.001060s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:07+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.027043s][吞吐率：36.98req/s] [内存消耗：1,232.31kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '68',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000362s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001599s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001804s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001958s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003329s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001970s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001318s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000751s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001712s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_receivables')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.000895s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:08+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/receivables/index
[ info ] localhost/72crm/index.php/crm/receivables/index [运行时间：0.185117s][吞吐率：5.40req/s] [内存消耗：1,576.20kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'receivables',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.028356s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Receivables->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Receivables.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001553s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001898s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001295s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003427s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004136s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001494s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001363s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001483s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001415s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001412s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001338s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003090s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001285s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002335s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002140s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001933s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001254s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001278s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001225s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002196s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003399s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003100s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000971s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002022s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'user' [ RunTime:0.001503s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'structure' [ RunTime:0.001239s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001548s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004889s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003499s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002242s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002138s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002555s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001367s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.005230s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002523s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001745s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001575s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001140s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002603s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002116s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001471s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001283s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001291s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001262s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.003343s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.003370s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001566s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001058s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001124s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005515s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001623s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001423s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000962s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000937s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001010s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.005342s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001717s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001408s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000775s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000947s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000839s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001302s ]
[ sql ] [ SQL ] SELECT `receivables`.*,customer.name as customer_name,contract.name as contract_name,contract.num as contract_num,contract.money as contract_money FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`owner_user_id` IN (2) ORDER BY `receivables`.`update_time` DESC LIMIT 0,15 [ RunTime:0.004523s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001187s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:88]
---------------------------------------------------------------
[ 2019-07-20T10:27:09+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.039684s][吞吐率：25.20req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000866s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003417s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005981s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006403s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001142s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001117s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002649s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004753s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `is_unique` = 1 [ RunTime:0.003293s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:09+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.071737s][吞吐率：13.94req/s] [内存消耗：1,190.77kb] [文件加载：70]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000684s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003309s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006181s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006810s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001794s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_business' OR (  `types` = 'crm_business'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001393s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.004588s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.005022s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_business')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001168s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `5kcrm_admin_structure` WHERE  (  id = 1 ) LIMIT 1 [ RunTime:0.001020s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.003736s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` = '1'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.002097s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001947s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 OR `type_id` = 0 ORDER BY `order_id` ASC [ RunTime:0.001651s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_business' ORDER BY `order_id` ASC [ RunTime:0.001330s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:09+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.026502s][吞吐率：37.73req/s] [内存消耗：1,232.07kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000040s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_business',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'business',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000246s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001867s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001346s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001208s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001228s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004038s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001986s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001829s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001426s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000886s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001329s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_business')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001009s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:09+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/index
[ info ] localhost/72crm/index.php/crm/business/index [运行时间：0.223900s][吞吐率：4.47req/s] [内存消耗：1,597.29kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.041073s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001618s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001310s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000995s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001190s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001616s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.008641s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002132s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003591s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002656s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002544s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004063s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003184s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001842s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002625s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'business'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001957s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002146s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001398s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.003486s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.003492s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006547s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001750s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001633s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005261s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004661s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002028s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001881s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `form_type` = 'user' [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_business'  AND `form_type` = 'structure' [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007718s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002807s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002358s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001456s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.006156s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001816s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.000756s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001168s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005121s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001668s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001543s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001222s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001382s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000762s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001817s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002744s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002165s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.000673s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000815s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000761s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001127s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001473s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005289s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001416s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001599s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002575s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001578s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.005171s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002982s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 34 LIMIT 1 [ RunTime:0.002181s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001100s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001890s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001212s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001994s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003942s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001846s ]
[ sql ] [ SQL ] SELECT `business`.*,customer.name as customer_name FROM `5kcrm_crm_business` `business` LEFT JOIN `5kcrm_crm_customer` `customer` ON `business`.`customer_id`=`customer`.`customer_id` WHERE  (  ( `business`.`owner_user_id` IN (2) ) OR ( `business`.`ro_user_id` LIKE '%,2,%' )  OR ( `business`.`rw_user_id` LIKE '%,2,%' ) ) ORDER BY `business`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001193s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` `business` LEFT JOIN `5kcrm_crm_customer` `customer` ON `business`.`customer_id`=`customer`.`customer_id` WHERE  (  ( `business`.`owner_user_id` IN (2) ) OR ( `business`.`ro_user_id` LIKE '%,2,%' )  OR ( `business`.`rw_user_id` LIKE '%,2,%' ) ) LIMIT 1 [ RunTime:0.001099s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.000865s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001284s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.001630s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business_status` WHERE  ( `type_id` = 1 or `type_id` = 0 ) LIMIT 1 [ RunTime:0.002206s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002065s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.000882s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:40]
[ error ] [8]未定义数组索引: contacts_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:67]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Business.php:119]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
---------------------------------------------------------------
[ 2019-07-20T10:27:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.027009s][吞吐率：37.02req/s] [内存消耗：1,167.02kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000728s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004374s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003249s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001698s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001100s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001142s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002744s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `is_unique` = 1 [ RunTime:0.002275s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.044955s][吞吐率：22.24req/s] [内存消耗：1,232.95kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000018s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '61',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
  'module' => 'crm',
  'action' => 'pool',
  'controller' => 'customer',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000713s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005405s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003073s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001145s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002131s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001219s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001159s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000986s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001491s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_customer_pool'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001119s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003950s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('owner_user_id') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.002369s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:10+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/customer/pool
[ info ] localhost/72crm/index.php/crm/customer/pool [运行时间：0.177848s][吞吐率：5.62req/s] [内存消耗：1,527.03kb] [文件加载：81]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000092s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'customer',
    2 => 'pool',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.029150s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Customer->pool[ /Users/kinta/workspace/php/72crm/application/crm/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003511s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001866s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001216s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001985s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002399s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001988s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003625s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001311s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001025s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001056s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001189s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001197s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002044s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003861s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.003450s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.002705s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001243s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.000835s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.000865s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002589s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`owner_user_id` = 0 ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001980s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`owner_user_id` = 0 LIMIT 1 [ RunTime:0.001100s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000755s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000962s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001010s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001557s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003172s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.003498s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001480s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002080s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002155s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001264s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001955s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002189s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001674s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.004792s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001805s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002524s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001778s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005808s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004256s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002531s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002431s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.005013s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002334s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001716s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002627s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001887s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005174s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001611s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001090s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000989s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001045s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001375s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004590s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001837s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001955s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001133s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002240s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002731s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.025832s][吞吐率：38.71req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contacts',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000221s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002569s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002142s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001387s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_contacts' OR (  `types` = 'crm_contacts'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.000919s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001201s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_contacts'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contacts')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001179s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_contacts' ORDER BY `order_id` ASC [ RunTime:0.000990s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.040623s][吞吐率：24.62req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contacts',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000291s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002268s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004131s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003531s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001710s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001566s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001245s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001211s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001725s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contacts'  AND `is_unique` = 1 [ RunTime:0.001983s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.044098s][吞吐率：22.68req/s] [内存消耗：1,232.72kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contacts',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'contacts',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000301s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008261s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004769s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001252s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001184s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002722s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.007050s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001958s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001050s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001741s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_contacts'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001362s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004265s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contacts')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001728s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/contacts/index
[ info ] localhost/72crm/index.php/crm/contacts/index [运行时间：0.206912s][吞吐率：4.83req/s] [内存消耗：1,577.21kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'contacts',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.030375s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Contacts->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Contacts.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002696s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002169s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002582s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001513s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001042s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001016s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.006008s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002203s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001157s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001296s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contacts'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000995s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001175s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004612s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001792s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003355s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001345s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contacts'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002983s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 22 LIMIT 1 [ RunTime:0.004530s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003076s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003941s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003625s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006803s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002994s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000759s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001301s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contacts'  AND `form_type` = 'user' [ RunTime:0.001134s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contacts'  AND `form_type` = 'structure' [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001482s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003693s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002376s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001106s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001539s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contacts'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001628s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 22 LIMIT 1 [ RunTime:0.001411s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003294s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001154s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001400s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000990s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000810s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001049s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002517s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003540s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002927s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001879s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contacts'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.003432s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 22 LIMIT 1 [ RunTime:0.001771s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001612s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003951s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001066s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001480s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002005s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001644s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002473s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003458s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004425s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001081s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002702s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001008s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contacts'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 22 LIMIT 1 [ RunTime:0.001430s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001582s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001510s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001422s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001360s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002715s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.005001s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001573s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contacts` [ RunTime:0.001840s ]
[ sql ] [ SQL ] SELECT `contacts`.*,customer.name as customer_name FROM `5kcrm_crm_contacts` `contacts` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contacts`.`customer_id`=`customer`.`customer_id` WHERE  `contacts`.`owner_user_id` IN (2) ORDER BY `contacts`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001049s ]
[ sql ] [ SQL ] SELECT COUNT(contacts_id) AS tp_count FROM `5kcrm_crm_contacts` `contacts` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contacts`.`customer_id`=`customer`.`customer_id` WHERE  `contacts`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000912s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contacts.php:40]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Contacts.php:41]
[ error ] [8]未定义数组索引: business_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contacts.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Contacts.php:107]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.028624s][吞吐率：34.94req/s] [内存消耗：1,165.27kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000019s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '15',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_leads',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000209s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002044s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002420s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002681s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001540s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_leads' OR (  `types` = 'crm_leads'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001060s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001477s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_leads'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001946s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_leads')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.002238s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_leads' ORDER BY `order_id` ASC [ RunTime:0.001889s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.067853s][吞吐率：14.74req/s] [内存消耗：1,167.01kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '15',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_leads',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000247s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001993s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001915s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003131s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002012s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003127s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002725s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001897s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.019350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004521s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `is_unique` = 1 [ RunTime:0.001454s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:11+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.053273s][吞吐率：18.77req/s] [内存消耗：1,232.31kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '56',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_leads',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'leads',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000292s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.021319s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003545s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002501s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006828s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003108s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001040s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001286s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_leads'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000950s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_leads')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001532s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:12+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/leads/index
[ info ] localhost/72crm/index.php/crm/leads/index [运行时间：0.206810s][吞吐率：4.84req/s] [内存消耗：1,572.60kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'leads',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.042541s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Leads->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Leads.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003249s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002662s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003786s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001177s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001332s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002839s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002334s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004504s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003124s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002491s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003025s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002269s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002744s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002735s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'leads'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001673s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002903s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001035s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001177s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001222s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001193s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000983s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004189s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002486s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000861s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002385s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'user' [ RunTime:0.003890s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'structure' [ RunTime:0.001649s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001971s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002737s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001690s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001358s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004052s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001677s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001954s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006188s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001267s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002755s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004431s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004051s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001509s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002355s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006132s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001895s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001296s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001151s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001759s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003993s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003561s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001281s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000945s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000936s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001376s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003307s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003226s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001251s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001193s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001279s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002789s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004069s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000880s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_leads` [ RunTime:0.001175s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) ORDER BY `update_time` DESC LIMIT 0,15 [ RunTime:0.001045s ]
[ sql ] [ SQL ] SELECT COUNT(leads_id) AS tp_count FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.002236s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:40]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:97]
[ error ] [8]未定义数组索引: leads.is_transform[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:103]
---------------------------------------------------------------
[ 2019-07-20T10:27:13+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.026024s][吞吐率：38.43req/s] [内存消耗：1,232.59kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
  'module' => 'crm',
  'controller' => 'customer',
  'action' => 'index',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000249s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002259s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003853s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002422s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001848s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001149s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000890s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001477s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.000862s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:13+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/todayCustomer
[ info ] localhost/72crm/index.php/crm/message/todayCustomer [运行时间：0.205015s][吞吐率：4.88req/s] [内存消耗：1,535.30kb] [文件加载：78]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'todayCustomer',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '41',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'types' => 'list',
  'type' => '1',
  'isSub' => '0',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000432s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->todayCustomer[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003648s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002880s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001667s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001940s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001044s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.003824s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001323s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002245s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001899s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001357s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001222s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001321s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001661s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003500s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001482s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001744s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001509s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001418s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001520s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002293s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001818s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000899s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000728s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001240s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.000951s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.002037s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.001543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.003653s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001722s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.002659s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.003079s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001237s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001243s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001423s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001306s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001510s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001736s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002486s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002161s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001843s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001566s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001345s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001004s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001843s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002503s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003089s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.004191s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002128s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001727s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004509s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002438s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003432s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001927s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002519s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.003435s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002680s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001471s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001825s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001241s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001851s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002893s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001646s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001976s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003159s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001383s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001575s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002641s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.005609s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001422s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002441s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002627s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002458s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002962s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002039s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001642s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002989s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002437s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
---------------------------------------------------------------
[ 2019-07-20T10:27:14+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.031157s][吞吐率：32.10req/s] [内存消耗：1,232.59kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
  'module' => 'crm',
  'controller' => 'customer',
  'action' => 'index',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000230s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001985s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002101s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001262s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004647s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003094s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000975s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.004308s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000837s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001275s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001020s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:14+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/followCustomer
[ info ] localhost/72crm/index.php/crm/message/followCustomer [运行时间：0.175981s][吞吐率：5.68req/s] [内存消耗：1,558.99kb] [文件加载：77]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'followcustomer',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '41',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'types' => 'list',
  'type' => '1',
  'isSub' => '0',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000222s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->followCustomer[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001330s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001629s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001060s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001397s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000968s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.001364s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.002309s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002728s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001318s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001106s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001140s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002113s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001778s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002937s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002016s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000945s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001359s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001437s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003261s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001590s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001697s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.005484s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.001410s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.001106s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.001960s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.007439s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005160s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.002549s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001333s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002163s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001449s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001562s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001419s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002010s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001747s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001408s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001336s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003354s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001933s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001307s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000963s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001162s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001113s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001157s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001466s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003592s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002105s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001049s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001302s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001174s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002184s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003735s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000944s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001338s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001185s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001467s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003603s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002557s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001287s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001043s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001633s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001692s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002118s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002645s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001459s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000977s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 1 LIMIT 1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001042s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `customer_id` = 4 LIMIT 1 [ RunTime:0.001154s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
---------------------------------------------------------------
[ 2019-07-20T10:27:15+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.058202s][吞吐率：17.18req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000211s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001615s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001679s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001162s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001242s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002195s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002536s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001525s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002817s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002824s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003214s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002692s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002585s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002215s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003258s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001857s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001398s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001313s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001876s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001234s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002052s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001320s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001500s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001595s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001253s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:16+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.048827s][吞吐率：20.48req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000085s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000276s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002469s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007483s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009210s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002044s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002111s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002819s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001981s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001808s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003225s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.000816s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.000838s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:16+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/total
[ info ] localhost/72crm/index.php/bi/customer/total [运行时间：0.226752s][吞吐率：4.41req/s] [内存消耗：1,339.41kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000048s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'total',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000283s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->total[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002645s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009223s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.008773s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002520s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002583s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001307s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001891s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001205s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001986s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001993s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001869s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001329s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001506s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001595s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.005250s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003003s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001672s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002212s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002864s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001763s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001212s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001140s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008460s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002147s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001641s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.012635s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.001328s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.006056s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.005532s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003867s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.002055s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002363s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002674s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.002250s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001580s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.008457s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001815s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.001966s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002742s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002250s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002038s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.003025s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.002386s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002736s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.002956s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001853s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
---------------------------------------------------------------
[ 2019-07-20T10:27:16+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/statistics
[ info ] localhost/72crm/index.php/bi/customer/statistics [运行时间：0.426118s][吞吐率：2.35req/s] [内存消耗：1,321.03kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'statistics',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000618s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->statistics[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.017430s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004976s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004264s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005893s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002917s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005504s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.008213s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001903s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002943s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001854s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.008656s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005277s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003750s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001925s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001845s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004582s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002477s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002382s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001434s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.009418s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004972s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002343s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.006282s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003969s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005100s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005956s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005373s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003909s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003518s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.005516s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`thumb_img`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.005087s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.007344s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.002538s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.009488s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.022093s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.002093s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.006238s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `return_time` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.002007s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:27:18+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/num
[ info ] localhost/72crm/index.php/crm/message/num [运行时间：0.805148s][吞吐率：1.24req/s] [内存消耗：2,862.62kb] [文件加载：82]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000140s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'num',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000616s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->num[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002674s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002476s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.005697s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.002726s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.031661s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.013658s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.015320s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003740s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002456s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006084s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005731s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002417s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002604s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002830s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001841s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002611s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001234s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001340s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001239s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001023s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001695s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005008s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002163s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001899s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002175s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.004256s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.006632s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.003444s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.002684s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.001931s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.002223s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.003406s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.002100s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.014478s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003320s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002263s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001936s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007225s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004244s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.004349s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.005400s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001448s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003880s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002837s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005782s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002825s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003632s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001279s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001245s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006917s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003075s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003010s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001649s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.008091s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004250s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.009301s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.003111s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001872s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003238s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003905s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005108s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004020s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004688s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.005410s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003046s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001957s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003088s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002726s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004015s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002937s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.004899s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002507s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002731s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002301s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002375s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003868s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002969s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001297s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001044s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'leads'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000975s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003694s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006160s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002925s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003387s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005299s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.003342s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002373s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.004181s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.009286s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001602s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003772s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003411s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000979s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'user' [ RunTime:0.001327s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'structure' [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002994s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003160s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001919s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001667s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002024s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002358s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001552s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001463s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001175s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001723s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001090s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001708s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001603s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001994s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002395s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002263s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001218s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000941s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001027s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001248s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000997s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001584s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003823s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001312s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000997s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002688s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001317s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001631s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001099s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001125s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001030s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001447s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000994s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000834s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_leads` [ RunTime:0.004845s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`follow` <> '已跟进'  AND `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) ORDER BY `update_time` DESC LIMIT 0,15 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT COUNT(leads_id) AS tp_count FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`follow` <> '已跟进'  AND `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000803s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000982s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001412s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001248s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002449s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001442s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001522s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000927s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000953s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001071s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.001221s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.002171s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001740s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000918s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001213s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001922s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001973s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001322s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000929s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000815s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001131s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002265s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001580s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001364s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000998s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002569s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001860s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001250s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000782s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000786s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000738s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 1 LIMIT 1 [ RunTime:0.003284s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001286s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `customer_id` = 4 LIMIT 1 [ RunTime:0.000743s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001145s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001140s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.003578s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001136s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001203s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000737s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001056s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002335s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001139s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001093s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000670s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000725s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002692s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001504s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001224s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000782s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001358s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002368s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000780s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000730s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000775s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000602s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.003305s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001921s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'receivables'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001011s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.000961s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000635s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.002062s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001941s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000628s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'user' [ RunTime:0.000622s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'structure' [ RunTime:0.000617s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000626s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001592s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001325s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000993s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000629s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000743s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003051s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001025s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000751s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000642s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000785s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002461s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001429s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000768s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000755s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000786s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000804s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000656s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001089s ]
[ sql ] [ SQL ] SELECT `receivables`.*,customer.name as customer_name,contract.name as contract_name,contract.num as contract_num,contract.money as contract_money FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`check_user_id` LIKE '%,2,%'  AND `receivables`.`check_status` = '0'  AND `receivables`.`owner_user_id` IN (2) ORDER BY `receivables`.`update_time` DESC LIMIT 0,15 [ RunTime:0.003222s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`check_user_id` LIKE '%,2,%'  AND `receivables`.`check_status` = '0'  AND `receivables`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001224s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables_plan` [ RunTime:0.001230s ]
[ sql ] [ SQL ] SELECT `receivables_plan`.*,customer.name as customer_name,contract.name as contract_name FROM `5kcrm_crm_receivables_plan` `receivables_plan` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables_plan`.`contract_id`=`contract`.`contract_id` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables_plan`.`customer_id`=`customer`.`customer_id` WHERE  `receivables_plan`.`receivables_id` = 0  AND `receivables_plan`.`remind_date` <= '2019-07-20'  AND `receivables_plan`.`return_date` >= '2019-07-20'  AND `contract`.`owner_user_id` = 2 LIMIT 0,15 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT COUNT(plan_id) AS tp_count FROM `5kcrm_crm_receivables_plan` `receivables_plan` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables_plan`.`contract_id`=`contract`.`contract_id` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables_plan`.`customer_id`=`customer`.`customer_id` WHERE  `receivables_plan`.`receivables_id` = 0  AND `receivables_plan`.`remind_date` <= '2019-07-20'  AND `receivables_plan`.`return_date` >= '2019-07-20'  AND `contract`.`owner_user_id` = 2 LIMIT 1 [ RunTime:0.000850s ]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:93]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:94]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:95]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:127]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:128]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:129]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:38]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:39]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:40]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:97]
[ error ] [8]未定义数组索引: leads.is_transform[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:103]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:159]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:160]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:161]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:191]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:192]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:193]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:40]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:41]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:225]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:226]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:227]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:39]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:40]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:88]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:259]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:260]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:261]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:36]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:37]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:38]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: contract_config[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:77]
---------------------------------------------------------------
[ 2019-07-20T10:27:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/users/getUserList
[ info ] localhost/72crm/index.php/admin/users/getUserList [运行时间：0.802992s][吞吐率：1.25req/s] [内存消耗：1,184.84kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000347s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'users',
    2 => 'getUserList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '6',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'by' => 'sub',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.004829s ]
[ info ] [ RUN ] app\admin\controller\Users->getUserList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Users.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.035366s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010064s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005380s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001320s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001291s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002740s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001952s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001267s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000993s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001135s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001030s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001009s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,structure.name as s_name FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IN (2)  AND (  user.status>0 and user.type=1 ) [ RunTime:0.000859s ]
[ error ] [8]未定义数组索引: m[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:184]
---------------------------------------------------------------
[ 2019-07-20T10:27:18+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/achievementData
[ info ] localhost/72crm/index.php/crm/index/achievementData [运行时间：0.817301s][吞吐率：1.22req/s] [内存消耗：1,221.97kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000154s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'achievementData',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'status' => '2',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000295s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->achievementData[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.019885s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.013085s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.010985s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003157s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001662s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001598s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002020s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001126s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000701s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.003646s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31'  AND `check_status` = 2 LIMIT 1 [ RunTime:0.001358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001360s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2 LIMIT 1 [ RunTime:0.000807s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_achievement` [ RunTime:0.001106s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_achievement` WHERE  `status` = 2  AND `year` IN (2019)  AND (  ( `obj_id` IN (2) AND `type` = 3 ) ) [ RunTime:0.000842s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:140]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:141]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:145]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:148]
---------------------------------------------------------------
[ 2019-07-20T10:27:19+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/saletrend
[ info ] localhost/72crm/index.php/crm/index/saletrend [运行时间：1.865790s][吞吐率：0.54req/s] [内存消耗：1,281.88kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'saletrend',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000413s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->saletrend[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.024400s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008468s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.010662s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001457s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001265s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001147s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:1.006440s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001299s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001918s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001247s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000863s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001402s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-01-01' AND '2019-02-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.002834s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-01-01' AND '2019-02-01' LIMIT 1 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-02-01' AND '2019-03-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001165s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-02-01' AND '2019-03-01' LIMIT 1 [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-03-01' AND '2019-04-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-03-01' AND '2019-04-01' LIMIT 1 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-04-01' AND '2019-05-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-04-01' AND '2019-05-01' LIMIT 1 [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-05-01' AND '2019-06-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-05-01' AND '2019-06-01' LIMIT 1 [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-06-01' AND '2019-07-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-06-01' AND '2019-07-01' LIMIT 1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-07-01' AND '2019-08-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000670s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-07-01' AND '2019-08-01' LIMIT 1 [ RunTime:0.000950s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-08-01' AND '2019-09-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001592s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-08-01' AND '2019-09-01' LIMIT 1 [ RunTime:0.001658s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-09-01' AND '2019-10-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001121s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-09-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-10-01' AND '2019-11-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-11-01' AND '2019-12-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-12-01' AND '2020-01-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.000639s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:286]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:289]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
---------------------------------------------------------------
[ 2019-07-20T10:27:19+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/index
[ info ] localhost/72crm/index.php/crm/index/index [运行时间：1.933006s][吞吐率：0.52req/s] [内存消耗：1,228.91kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000576s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.023765s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.014207s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.015189s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001581s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001384s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001606s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001106s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002066s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contacts` [ RunTime:0.016907s ]
[ sql ] [ SQL ] SELECT COUNT(contacts_id) AS tp_count FROM `5kcrm_crm_contacts` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.002009s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.002276s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001168s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000799s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001169s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000788s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.001508s ]
[ sql ] [ SQL ] SELECT COUNT(record_id) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (2)  AND `owner_user_id` IN (2)  AND `status_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001081s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:65]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:27:19+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：1.943610s][吞吐率：0.51req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000244s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.023336s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.013717s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.011012s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.005869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.002026s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001556s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.002421s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:19+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/funnel
[ info ] localhost/72crm/index.php/crm/index/funnel [运行时间：0.064618s][吞吐率：15.48req/s] [内存消耗：1,221.25kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '19',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'type_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000204s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->funnel[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002461s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003993s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004298s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001894s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001834s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002134s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003105s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001132s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001975s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001768s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000899s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000796s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001412s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.000943s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.002706s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.002852s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.002103s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.001978s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.001102s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.001215s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.001467s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.002053s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:244]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:247]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:267]
---------------------------------------------------------------
[ 2019-07-20T10:27:21+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/event
[ info ] localhost/72crm/index.php/oa/index/event [运行时间：0.029627s][吞吐率：33.75req/s] [内存消耗：1,056.02kb] [文件加载：63]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'event',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'start_time' => '1563589641',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000244s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->event[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005558s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007308s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_oa_event` WHERE  `start_time` <= 1563676041  AND `end_time` >= 1563589641  AND (  `owner_user_ids` LIKE '%,2,%' OR `create_user_id` = 2 ) [ RunTime:0.001903s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:21+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/taskList
[ info ] localhost/72crm/index.php/oa/index/taskList [运行时间：0.045110s][吞吐率：22.17req/s] [内存消耗：1,049.07kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'taskList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000361s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->taskList[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004338s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010561s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_task` [ RunTime:0.003948s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_task` WHERE  (  ( main_user_id = 2 or create_user_id =2 or owner_user_id like "%,2,%") and status=1 and ishidden=0 ) LIMIT 1 [ RunTime:0.002374s ]
[ sql ] [ SQL ] SELECT `task_id`,`name`,`stop_time`,`priority`,`create_time`,`pid` FROM `5kcrm_task` WHERE  (   ( main_user_id = 2 or create_user_id =2 or owner_user_id like "%,2,%") and status=1 and ishidden=0 ) [ RunTime:0.002039s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:21+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/message/num
[ info ] localhost/72crm/index.php/oa/message/num [运行时间：0.077961s][吞吐率：12.83req/s] [内存消耗：1,083.10kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000055s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'message',
    2 => 'num',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000313s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Message->num[ /Users/kinta/workspace/php/72crm/application/oa/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006409s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009534s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004098s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.004186s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_event` WHERE  (  ( ( start_time BETWEEN 1563552000 AND 1563638399 ) AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( ( end_time BETWEEN 1563552000 AND 1563638399 ) AND  ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( start_time < 1563552000 AND end_time > 1563638399 AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) ) LIMIT 1 [ RunTime:0.002055s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_task` [ RunTime:0.004393s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_task` WHERE  (   ishidden=0 and ( main_user_id =2 or create_user_id =2 or ( is_open = 1 and owner_user_id like "%,2,%") ) )  AND `pid` = 0  AND `status` <> 5 LIMIT 1 [ RunTime:0.001608s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_announcement` [ RunTime:0.003031s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_announcement` WHERE  (   ( owner_user_ids LIKE "%,2,%" OR structure_ids LIKE "%,1,%" OR create_user_id = 2 OR (owner_user_ids = "" AND structure_ids = "")) )  AND `start_time` <= 1563552000  AND `end_time` >= 1563552000  AND `read_user_ids` NOT LIKE '%,2,%' LIMIT 1 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_log` [ RunTime:0.003350s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_log` WHERE  `read_user_ids` NOT LIKE '%,2,%'  AND (  ( `send_user_ids` LIKE '%,2,%' ) OR ( `send_structure_ids` LIKE '%,1,%' ) ) LIMIT 1 [ RunTime:0.001499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_examine` [ RunTime:0.002016s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_oa_examine` WHERE  (  ( `check_user_id` LIKE '%,2,%' OR `check_user_id` = 2 ) ) LIMIT 1 [ RunTime:0.001193s ]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/oa/controller/Message.php:48]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: examineWhere[/Users/kinta/workspace/php/72crm/application/oa/controller/Message.php:100]
---------------------------------------------------------------
[ 2019-07-20T10:27:21+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/eventList
[ info ] localhost/72crm/index.php/oa/index/eventList [运行时间：0.076452s][吞吐率：13.08req/s] [内存消耗：1,059.99kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000051s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'eventList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000537s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->eventList[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008447s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.011009s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_oa_event` [ RunTime:0.002437s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_oa_event` WHERE  (  ( ( start_time BETWEEN 1561910400 AND 1564588799 ) AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( ( end_time BETWEEN 1561910400 AND 1564588799 ) AND  ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) OR ( start_time < 1561910400 AND end_time > 1564588799 AND ( create_user_id = 2 or owner_user_ids like "%,2,%" ) ) ) [ RunTime:0.003313s ]
[ error ] [8]未定义数组索引: start_time[/Users/kinta/workspace/php/72crm/application/oa/controller/Index.php:224]
---------------------------------------------------------------
[ 2019-07-20T10:27:21+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/index
[ info ] localhost/72crm/index.php/oa/index/index [运行时间：0.102285s][吞吐率：9.78req/s] [内存消耗：1,139.16kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '0',
  'page' => '1',
  'limit' => '15',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002188s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.016171s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005425s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001867s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005259s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003375s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000889s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_log` [ RunTime:0.002509s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_action_log` WHERE  (   ( module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) ORDER BY `create_time` DESC LIMIT 0,15 [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_log` WHERE  (   ( module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) LIMIT 1 [ RunTime:0.001391s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:23+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/index
[ info ] localhost/72crm/index.php/oa/index/index [运行时间：0.033522s][吞吐率：29.83req/s] [内存消耗：1,139.31kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
  'limit' => '15',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000278s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002432s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001644s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001152s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002123s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001843s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001877s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002552s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001238s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_log` [ RunTime:0.001320s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_action_log` WHERE  (   controller_name = "log" and  module_name = "oa"  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) ORDER BY `create_time` DESC LIMIT 0,15 [ RunTime:0.001034s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_log` WHERE  (   controller_name = "log" and  module_name = "oa"  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) LIMIT 1 [ RunTime:0.000952s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:24+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/index
[ info ] localhost/72crm/index.php/oa/index/index [运行时间：0.035524s][吞吐率：28.15req/s] [内存消耗：1,139.31kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '5',
  'page' => '1',
  'limit' => '15',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000309s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002361s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001621s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001460s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002881s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001616s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001519s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001127s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000841s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_log` [ RunTime:0.001955s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_action_log` WHERE  (   ( controller_name = "examine" and  module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) ORDER BY `create_time` DESC LIMIT 0,15 [ RunTime:0.004530s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_log` WHERE  (   ( controller_name = "examine" and  module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) LIMIT 1 [ RunTime:0.002304s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:24+08:00 ] 0.0.0.0 POST /72crm/index.php/oa/index/index
[ info ] localhost/72crm/index.php/oa/index/index [运行时间：0.037529s][吞吐率：26.65req/s] [内存消耗：1,139.31kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000036s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'oa',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'page' => '1',
  'limit' => '15',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/oa/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000238s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\oa\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/oa/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001668s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001690s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001802s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002070s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003493s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001295s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001198s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001856s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000959s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_log` [ RunTime:0.001402s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_action_log` WHERE  (   ( controller_name = "task" and  module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) ORDER BY `create_time` DESC LIMIT 0,15 [ RunTime:0.001567s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_log` WHERE  (   ( controller_name = "task" and  module_name = "oa" )  and ( action_delete != 1 ) and ( user_id IN (2) or join_user_ids like "%,2,%" or structure_ids like "%,1,%" ) ) LIMIT 1 [ RunTime:0.005447s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/num
[ info ] localhost/72crm/index.php/crm/message/num [运行时间：0.682654s][吞吐率：1.46req/s] [内存消耗：2,862.62kb] [文件加载：82]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'num',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000206s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->num[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001786s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001397s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.002979s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.008040s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.007941s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.006322s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.010882s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002946s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003092s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004029s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001182s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001919s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001977s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002298s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001151s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001687s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001805s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001514s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001217s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001664s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000717s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001739s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.002316s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.001834s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.003883s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.001787s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.001902s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001532s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.002480s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001201s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001668s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001837s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001152s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001224s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000941s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002768s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003204s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001754s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001397s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001153s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001222s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001540s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001703s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001832s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001589s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001487s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002416s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001601s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002242s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001187s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003085s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002466s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003075s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001506s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001863s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001943s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001547s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002896s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001856s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002093s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001134s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002638s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001603s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002685s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001077s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000914s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'leads'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001230s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002489s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002873s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001611s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002380s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002077s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002053s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001413s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001200s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002392s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001079s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003087s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001178s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002417s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'user' [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_leads'  AND `form_type` = 'structure' [ RunTime:0.002332s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003748s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001796s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001849s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001726s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001271s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001771s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.006416s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002363s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000902s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001602s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002694s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002699s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001693s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002763s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001140s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002242s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001970s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001469s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.001627s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001437s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001136s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001010s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001346s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003206s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002502s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001712s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002420s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001365s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001318s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001261s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002359s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001873s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'leads'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 2 LIMIT 1 [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001539s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001538s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001825s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003272s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001170s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_leads` [ RunTime:0.002512s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`follow` <> '已跟进'  AND `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) ORDER BY `update_time` DESC LIMIT 0,15 [ RunTime:0.001495s ]
[ sql ] [ SQL ] SELECT COUNT(leads_id) AS tp_count FROM `5kcrm_crm_leads` `leads` WHERE  `leads`.`follow` <> '已跟进'  AND `leads`.`is_transform` <> 1  AND `leads`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001102s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000815s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001153s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002805s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005334s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001016s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001202s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001114s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002551s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002069s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002442s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002133s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001017s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.001313s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.000982s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.001086s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.002041s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`follow` <> '已跟进'  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.002171s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001641s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001025s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001132s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001093s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001328s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001161s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001686s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001331s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001583s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001276s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001204s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000926s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000981s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001264s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001703s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002129s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001378s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001403s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000957s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001314s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001396s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001525s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001548s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001648s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001267s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001259s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000901s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001645s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001268s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002079s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001381s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001072s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001219s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 1 LIMIT 1 [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001180s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `customer_id` = 4 LIMIT 1 [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001241s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002276s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002234s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001157s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001275s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000937s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001716s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002234s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001392s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.000995s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000962s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001008s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000904s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001275s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001387s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.004673s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000815s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001315s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001270s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001782s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003703s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001451s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001257s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000999s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001563s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000941s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000923s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001047s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002112s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001513s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001086s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001029s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001104s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001264s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001739s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001750s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001425s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001024s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000901s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001188s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000983s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000809s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001178s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001619s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  `contract`.`check_user_id` LIKE '%,2,%'  AND `contract`.`check_status` = '0'  AND (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,,%' )  OR ( `contract`.`rw_user_id` LIKE '%,,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'receivables'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001219s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001330s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000782s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001985s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001762s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001500s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000944s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001124s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'user' [ RunTime:0.001165s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'structure' [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001810s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001790s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001413s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.001173s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000975s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001485s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000931s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000914s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001231s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002373s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001628s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001484s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001254s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002788s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001198s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000929s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001195s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000931s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001216s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.002153s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001097s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001622s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001156s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001375s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000741s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `receivables`.*,customer.name as customer_name,contract.name as contract_name,contract.num as contract_num,contract.money as contract_money FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`check_user_id` LIKE '%,2,%'  AND `receivables`.`check_status` = '0'  AND `receivables`.`owner_user_id` IN (2) ORDER BY `receivables`.`update_time` DESC LIMIT 0,15 [ RunTime:0.000937s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`check_user_id` LIKE '%,2,%'  AND `receivables`.`check_status` = '0'  AND `receivables`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables_plan` [ RunTime:0.002961s ]
[ sql ] [ SQL ] SELECT `receivables_plan`.*,customer.name as customer_name,contract.name as contract_name FROM `5kcrm_crm_receivables_plan` `receivables_plan` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables_plan`.`contract_id`=`contract`.`contract_id` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables_plan`.`customer_id`=`customer`.`customer_id` WHERE  `receivables_plan`.`receivables_id` = 0  AND `receivables_plan`.`remind_date` <= '2019-07-20'  AND `receivables_plan`.`return_date` >= '2019-07-20'  AND `contract`.`owner_user_id` = 2 LIMIT 0,15 [ RunTime:0.001703s ]
[ sql ] [ SQL ] SELECT COUNT(plan_id) AS tp_count FROM `5kcrm_crm_receivables_plan` `receivables_plan` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables_plan`.`contract_id`=`contract`.`contract_id` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables_plan`.`customer_id`=`customer`.`customer_id` WHERE  `receivables_plan`.`receivables_id` = 0  AND `receivables_plan`.`remind_date` <= '2019-07-20'  AND `receivables_plan`.`return_date` >= '2019-07-20'  AND `contract`.`owner_user_id` = 2 LIMIT 1 [ RunTime:0.000959s ]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:93]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:94]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:95]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:127]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:128]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:129]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:38]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:39]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:40]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:97]
[ error ] [8]未定义数组索引: leads.is_transform[/Users/kinta/workspace/php/72crm/application/crm/model/Leads.php:103]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:159]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:160]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:161]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:191]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:192]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:193]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:40]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:41]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:225]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:226]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:227]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:39]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:40]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: [/Users/kinta/workspace/php/72crm/application/common.php:160]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:196]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:88]
[ error ] [8]未定义数组索引: types[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:259]
[ error ] [8]未定义数组索引: type[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:260]
[ error ] [8]未定义数组索引: isSub[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:261]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:36]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:37]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/ReceivablesPlan.php:38]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [8]未定义数组索引: contract_config[/Users/kinta/workspace/php/72crm/application/crm/controller/Message.php:77]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/users/getUserList
[ info ] localhost/72crm/index.php/admin/users/getUserList [运行时间：0.699713s][吞吐率：1.43req/s] [内存消耗：1,184.84kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000048s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'users',
    2 => 'getUserList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '6',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'by' => 'sub',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.004612s ]
[ info ] [ RUN ] app\admin\controller\Users->getUserList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Users.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009344s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005293s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.008540s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001211s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001161s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002001s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002216s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002416s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001427s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002090s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001737s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001027s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000974s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001698s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,structure.name as s_name FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IN (2)  AND (  user.status>0 and user.type=1 ) [ RunTime:0.001360s ]
[ error ] [8]未定义数组索引: m[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:184]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/index
[ info ] localhost/72crm/index.php/crm/index/index [运行时间：0.743881s][吞吐率：1.34req/s] [内存消耗：1,228.91kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000275s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005190s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007552s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.012949s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002030s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001566s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001615s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001532s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001202s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001070s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001905s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002139s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001194s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001024s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.001359s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000943s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contacts` [ RunTime:0.001308s ]
[ sql ] [ SQL ] SELECT COUNT(contacts_id) AS tp_count FROM `5kcrm_crm_contacts` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002074s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.004049s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001825s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.001254s ]
[ sql ] [ SQL ] SELECT COUNT(record_id) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (2)  AND `owner_user_id` IN (2)  AND `status_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.000860s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:65]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：0.752026s][吞吐率：1.33req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000268s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.004373s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009248s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006870s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.008394s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002049s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.002073s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.003628s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.001176s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/saletrend
[ info ] localhost/72crm/index.php/crm/index/saletrend [运行时间：0.829310s][吞吐率：1.21req/s] [内存消耗：1,281.88kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'saletrend',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000367s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->saletrend[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005238s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.008720s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001970s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002927s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003858s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003165s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001547s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003223s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000931s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000844s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.015631s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-01-01' AND '2019-02-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001653s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.002578s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-01-01' AND '2019-02-01' LIMIT 1 [ RunTime:0.001971s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-02-01' AND '2019-03-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-02-01' AND '2019-03-01' LIMIT 1 [ RunTime:0.001030s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-03-01' AND '2019-04-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-03-01' AND '2019-04-01' LIMIT 1 [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-04-01' AND '2019-05-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-04-01' AND '2019-05-01' LIMIT 1 [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-05-01' AND '2019-06-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-05-01' AND '2019-06-01' LIMIT 1 [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-06-01' AND '2019-07-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-06-01' AND '2019-07-01' LIMIT 1 [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-07-01' AND '2019-08-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-07-01' AND '2019-08-01' LIMIT 1 [ RunTime:0.001813s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-08-01' AND '2019-09-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.005388s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-08-01' AND '2019-09-01' LIMIT 1 [ RunTime:0.001047s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-09-01' AND '2019-10-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001444s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-09-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-10-01' AND '2019-11-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000799s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-11-01' AND '2019-12-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-12-01' AND '2020-01-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.004292s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.001813s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:286]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:289]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/achievementData
[ info ] localhost/72crm/index.php/crm/index/achievementData [运行时间：0.867012s][吞吐率：1.15req/s] [内存消耗：1,221.97kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000101s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'achievementData',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'status' => '2',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000598s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->achievementData[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009177s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.015030s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003245s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001822s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002192s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001116s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002169s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001194s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001283s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31'  AND `check_status` = 2 LIMIT 1 [ RunTime:0.000824s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001231s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2 LIMIT 1 [ RunTime:0.000812s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_achievement` [ RunTime:0.001855s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_achievement` WHERE  `status` = 2  AND `year` IN (2019)  AND (  ( `obj_id` IN (2) AND `type` = 3 ) ) [ RunTime:0.000998s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:140]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:141]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:145]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:148]
---------------------------------------------------------------
[ 2019-07-20T10:27:26+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/funnel
[ info ] localhost/72crm/index.php/crm/index/funnel [运行时间：0.133579s][吞吐率：7.49req/s] [内存消耗：1,221.25kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000041s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '19',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'type_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000267s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->funnel[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.015986s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003385s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001949s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001721s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001156s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002281s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001170s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002031s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.001538s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.001172s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.002019s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.001466s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.001556s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.000781s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.000717s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:244]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:247]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:267]
---------------------------------------------------------------
[ 2019-07-20T10:27:28+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.022610s][吞吐率：44.23req/s] [内存消耗：1,167.02kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000441s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002243s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002304s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001797s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001428s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001624s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001247s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001145s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001140s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001417s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `is_unique` = 1 [ RunTime:0.001110s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:28+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.047570s][吞吐率：21.02req/s] [内存消耗：1,165.34kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000489s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002122s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001758s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.003865s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_customer' OR (  `types` = 'crm_customer'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001893s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002379s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001411s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003681s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001984s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_customer' ORDER BY `order_id` ASC [ RunTime:0.000887s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:28+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.043654s][吞吐率：22.91req/s] [内存消耗：1,232.59kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'customer',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000269s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002532s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005593s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004606s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001111s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002795s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003396s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000940s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.002664s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.003389s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002000s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.004565s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:28+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/customer/index
[ info ] localhost/72crm/index.php/crm/customer/index [运行时间：0.303423s][吞吐率：3.30req/s] [内存消耗：1,633.68kb] [文件加载：81]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000275s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'customer',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.037723s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Customer->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002430s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001750s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001220s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001158s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006609s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002111s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001949s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001475s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005261s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001786s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.007760s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.059860s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.012423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.001619s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001234s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001697s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006058s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004315s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001616s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.007526s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002344s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001009s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001045s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000975s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001020s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000931s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001609s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.006353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001565s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.000993s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.000949s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.003763s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = 2  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.003071s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005590s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  (  `customer`.`owner_user_id` IN (2) OR (  `customer`.`ro_user_id` LIKE '%,2,%'  AND `customer`.`owner_user_id` <> '' )  OR (  `customer`.`rw_user_id` LIKE '%,2,%'  AND `customer`.`owner_user_id` <> '' ) ) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001844s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  (  `customer`.`owner_user_id` IN (2) OR (  `customer`.`ro_user_id` LIKE '%,2,%'  AND `customer`.`owner_user_id` <> '' )  OR (  `customer`.`rw_user_id` LIKE '%,2,%'  AND `customer`.`owner_user_id` <> '' ) ) LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001226s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005950s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.004453s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002238s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003359s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002219s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002022s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001250s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004183s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002685s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001472s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000872s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000766s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000743s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000926s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001951s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001504s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001286s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000910s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001871s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001335s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001134s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000745s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.000746s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000979s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001107s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001071s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 1 LIMIT 1 [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001177s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 1 LIMIT 1 [ RunTime:0.001127s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001024s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `customer_id` = 4 LIMIT 1 [ RunTime:0.000867s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
---------------------------------------------------------------
[ 2019-07-20T10:27:42+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.033022s][吞吐率：30.28req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000269s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003583s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005937s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002814s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.001808s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_contract' OR (  `types` = 'crm_contract'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.001694s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001594s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001871s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001394s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.002046s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_contract' ORDER BY `order_id` ASC [ RunTime:0.001373s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:42+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.068429s][吞吐率：14.61req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000268s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005211s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005011s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003486s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001780s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001617s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001881s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003232s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.003969s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `is_unique` = 1 [ RunTime:0.008525s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:42+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.046209s][吞吐率：21.64req/s] [内存消耗：1,232.80kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000070s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_contract',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'contract',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000649s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009046s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005380s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003176s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001891s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000755s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000913s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.005765s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001071s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002426s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_contract')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.000932s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:42+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/contract/index
[ info ] localhost/72crm/index.php/crm/contract/index [运行时间：0.185651s][吞吐率：5.39req/s] [内存消耗：1,603.55kb] [文件加载：81]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'contract',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.031443s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Contract->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001707s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001324s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001397s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003352s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004381s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000998s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001045s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001729s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001464s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002792s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003342s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002004s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001784s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002372s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'contract'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001192s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001224s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001264s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002580s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002098s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001117s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000812s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000967s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001518s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001928s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001334s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001555s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'user' [ RunTime:0.001042s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_contract'  AND `form_type` = 'structure' [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001496s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001693s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002253s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006103s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002666s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003535s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001872s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002951s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.003301s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005274s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002115s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001822s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001066s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003171s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002654s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002117s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001754s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001241s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001564s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001220s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004662s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001780s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002131s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001172s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001148s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004648s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001922s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001417s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001187s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001118s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001059s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002387s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.003460s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001325s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.001561s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001081s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001036s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001002s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001120s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002200s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002623s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001615s ]
[ sql ] [ SQL ] SELECT `contract`.*,customer.name as customer_name,business.name as business_name,contacts.name as contacts_name FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ORDER BY `contract`.`update_time` DESC LIMIT 0,15 [ RunTime:0.001562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(contract.contract_id) FROM `5kcrm_crm_contract` `contract` LEFT JOIN `5kcrm_crm_customer` `customer` ON `contract`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_business` `business` ON `contract`.`business_id`=`business`.`business_id` LEFT JOIN `5kcrm_crm_contacts` `contacts` ON `contract`.`contacts_id`=`contacts`.`contacts_id` LEFT JOIN `5kcrm_crm_receivables_plan` `plan` ON `contract`.`contract_id`=`plan`.`contract_id` WHERE  (  ( `contract`.`owner_user_id` IN (2) ) OR ( `contract`.`ro_user_id` LIKE '%,2,%' )  OR ( `contract`.`rw_user_id` LIKE '%,2,%' ) ) GROUP BY `contract`.`contract_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001153s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:42]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: contract.ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:64]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义数组下标: 1[/Users/kinta/workspace/php/72crm/thinkphp/library/think/db/Builder.php:319]
[ error ] [8]未定义变量: sumMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:176]
[ error ] [8]未定义变量: unReceivablesMoney[/Users/kinta/workspace/php/72crm/application/crm/model/Contract.php:177]
---------------------------------------------------------------
[ 2019-07-20T10:27:46+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.033395s][吞吐率：29.94req/s] [内存消耗：1,232.59kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '62',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_customer',
  'module' => 'crm',
  'controller' => 'customer',
  'action' => 'index',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000545s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001762s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003011s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002363s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001657s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005456s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002322s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001818s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.002460s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_customer'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001498s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_customer')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001752s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:47+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/message/todayCustomer
[ info ] localhost/72crm/index.php/crm/message/todayCustomer [运行时间：0.213663s][吞吐率：4.68req/s] [内存消耗：1,535.30kb] [文件加载：78]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'message',
    2 => 'todayCustomer',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '41',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'types' => 'list',
  'type' => '1',
  'isSub' => '0',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000341s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Message->todayCustomer[ /Users/kinta/workspace/php/72crm/application/crm/controller/Message.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002908s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.003467s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'customer'  AND `user_id` IS NULL LIMIT 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_config` [ RunTime:0.002015s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.001333s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004568s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001245s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001154s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002305s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001321s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002137s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.007867s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001907s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.002431s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006448s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002614s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002975s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'user' [ RunTime:0.003247s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_customer'  AND `form_type` = 'structure' [ RunTime:0.001993s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_top` [ RunTime:0.001909s ]
[ sql ] [ SQL ] SELECT `module_id` FROM `5kcrm_crm_top` WHERE  `module` = 'customer'  AND `create_role_id` = null  AND `set_top` = 1 ORDER BY `top_time` ASC [ RunTime:0.001778s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002069s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) ORDER BY `customer`.`update_time` DESC LIMIT 0,15 [ RunTime:0.002231s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` `customer` WHERE  `customer`.`next_time` BETWEEN 1563552000 AND 1563638399  AND `customer`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001314s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_config` [ RunTime:0.003910s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003104s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001749s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002338s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001676s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001239s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001761s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001500s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001978s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002524s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002124s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002568s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001495s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001747s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002328s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003536s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001554s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001577s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001830s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001123s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003736s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001776s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001386s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001490s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001529s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001472s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001202s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001745s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002598s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002156s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001481s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001939s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002073s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004127s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002815s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001808s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002296s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001900s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001472s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 10 LIMIT 1 [ RunTime:0.001964s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008095s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002492s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001491s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001802s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002793s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003692s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001884s ]
[ error ] [8]未定义数组索引: search[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:42]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:43]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:44]
[ error ] [8]未定义数组索引: is_excel[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:45]
[ error ] [8]未定义数组索引: action[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:46]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义数组索引: ro_user_id[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:76]
[ error ] [8]未定义数组索引: state[/Users/kinta/workspace/php/72crm/application/common.php:162]
[ error ] [8]未定义数组索引: value[/Users/kinta/workspace/php/72crm/application/common.php:192]
[ error ] [8]未定义数组索引: condition[/Users/kinta/workspace/php/72crm/application/common.php:198]
[ error ] [2]Declaration of app\crm\model\ConfigData::getData() should be compatible with think\Model::getData($name = NULL)[/Users/kinta/workspace/php/72crm/application/crm/model/ConfigData.php:0]
[ error ] [8]未定义变量: whereData[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:467]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:143]
[ error ] [8]未定义变量: order_t[/Users/kinta/workspace/php/72crm/application/crm/model/Customer.php:163]
---------------------------------------------------------------
[ 2019-07-20T10:27:49+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/index
[ info ] localhost/72crm/index.php/crm/index/index [运行时间：0.171150s][吞吐率：5.84req/s] [内存消耗：1,228.91kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000956s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.020210s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.020187s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.016187s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005966s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003596s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004373s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003320s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003724s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002111s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001170s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001106s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.003920s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.006796s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contacts` [ RunTime:0.005251s ]
[ sql ] [ SQL ] SELECT COUNT(contacts_id) AS tp_count FROM `5kcrm_crm_contacts` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.002521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.001576s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.006167s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.003115s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.003578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.004331s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.007189s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.003610s ]
[ sql ] [ SQL ] SELECT COUNT(record_id) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.002929s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (2)  AND `owner_user_id` IN (2)  AND `status_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.004677s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:65]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:27:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/users/getUserList
[ info ] localhost/72crm/index.php/admin/users/getUserList [运行时间：0.220240s][吞吐率：4.54req/s] [内存消耗：1,184.84kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000045s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'users',
    2 => 'getUserList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '6',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'by' => 'sub',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002043s ]
[ info ] [ RUN ] app\admin\controller\Users->getUserList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Users.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012321s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.026191s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.029440s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001108s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004892s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003704s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004017s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001792s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003338s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003218s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003621s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002629s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`user`.`realname`,`user`.`thumb_img`,structure.name as s_name FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` IN (2)  AND (  user.status>0 and user.type=1 ) [ RunTime:0.001413s ]
[ error ] [8]未定义数组索引: m[/Users/kinta/workspace/php/72crm/application/admin/controller/Users.php:184]
---------------------------------------------------------------
[ 2019-07-20T10:27:49+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/achievementData
[ info ] localhost/72crm/index.php/crm/index/achievementData [运行时间：0.269457s][吞吐率：3.71req/s] [内存消耗：1,221.97kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000120s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'achievementData',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '18',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'status' => '2',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000317s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->achievementData[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.025127s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006338s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.029894s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002999s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.007020s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003783s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004026s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003840s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002260s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001248s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001176s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004676s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001462s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.004354s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31'  AND `check_status` = 2 LIMIT 1 [ RunTime:0.002507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.001363s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2 LIMIT 1 [ RunTime:0.001569s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_achievement` [ RunTime:0.004032s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_achievement` WHERE  `status` = 2  AND `year` IN (2019)  AND (  ( `obj_id` IN (2) AND `type` = 3 ) ) [ RunTime:0.003400s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:140]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:141]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:145]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:148]
---------------------------------------------------------------
[ 2019-07-20T10:27:49+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：0.284942s][吞吐率：3.51req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000708s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.023245s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.012250s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.026763s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002436s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.001611s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.004518s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.001688s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:49+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/saletrend
[ info ] localhost/72crm/index.php/crm/index/saletrend [运行时间：0.373021s][吞吐率：2.68req/s] [内存消耗：1,281.88kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'saletrend',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '9',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000388s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->saletrend[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.015324s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.017950s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.012650s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001614s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002924s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001599s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002804s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001944s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001461s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000936s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.004379s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-01-01' AND '2019-02-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000924s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.003703s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-01-01' AND '2019-02-01' LIMIT 1 [ RunTime:0.001906s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-02-01' AND '2019-03-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001402s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-02-01' AND '2019-03-01' LIMIT 1 [ RunTime:0.001967s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-03-01' AND '2019-04-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001838s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-03-01' AND '2019-04-01' LIMIT 1 [ RunTime:0.002983s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-04-01' AND '2019-05-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.003122s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-04-01' AND '2019-05-01' LIMIT 1 [ RunTime:0.001837s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-05-01' AND '2019-06-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000910s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-05-01' AND '2019-06-01' LIMIT 1 [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-06-01' AND '2019-07-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001194s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-06-01' AND '2019-07-01' LIMIT 1 [ RunTime:0.001254s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-07-01' AND '2019-08-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001178s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-07-01' AND '2019-08-01' LIMIT 1 [ RunTime:0.003736s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-08-01' AND '2019-09-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001667s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-08-01' AND '2019-09-01' LIMIT 1 [ RunTime:0.005592s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-09-01' AND '2019-10-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.008873s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-09-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.003506s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-10-01' AND '2019-11-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001284s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.002984s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-11-01' AND '2019-12-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.004870s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `order_date` BETWEEN '2019-12-01' AND '2020-01-01'  AND `check_status` = 2  AND `owner_user_id` IN (2) LIMIT 1 [ RunTime:0.001935s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `check_status` = 2  AND `owner_user_id` IN (2)  AND `return_time` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.000851s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:286]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:289]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:322]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:324]
---------------------------------------------------------------
[ 2019-07-20T10:27:49+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/index/funnel
[ info ] localhost/72crm/index.php/crm/index/funnel [运行时间：0.070720s][吞吐率：14.14req/s] [内存消耗：1,221.25kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'index',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '19',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'type' => 'year',
  'type_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000587s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Index->funnel[ /Users/kinta/workspace/php/72crm/application/crm/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003824s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003386s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001443s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003478s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001276s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001525s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003802s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002604s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002105s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002310s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.001767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.002794s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.001630s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.003532s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000733s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.001415s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.001660s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.001501s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.000875s ]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:244]
[ error ] [8]未定义数组索引: structure_id[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:247]
[ error ] [8]未定义数组索引: end_time[/Users/kinta/workspace/php/72crm/application/crm/controller/Index.php:267]
---------------------------------------------------------------
[ 2019-07-20T10:27:57+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.043241s][吞吐率：23.13req/s] [内存消耗：1,166.93kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000042s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000366s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002348s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004027s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002400s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002985s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.007304s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001814s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002084s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.007470s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `is_unique` = 1 [ RunTime:0.001226s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:57+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.071904s][吞吐率：13.91req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '21',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000247s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002354s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003763s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002595s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.004493s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_receivables' OR (  `types` = 'crm_receivables'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.002192s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002093s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001949s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002543s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_receivables')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.001917s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_receivables' ORDER BY `order_id` ASC [ RunTime:0.002531s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:57+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.030889s][吞吐率：32.37req/s] [内存消耗：1,232.31kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '68',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_receivables',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'receivables',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000373s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004177s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002864s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001892s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001045s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001245s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001003s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001270s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.004723s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.001662s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001645s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_receivables')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.000960s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:57+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/receivables/index
[ info ] localhost/72crm/index.php/crm/receivables/index [运行时间：0.224317s][吞吐率：4.46req/s] [内存消耗：1,576.20kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'receivables',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.041904s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Receivables->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Receivables.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001870s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002261s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002784s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001350s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001495s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002092s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008325s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001722s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001161s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002025s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007845s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001249s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001519s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.000890s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001468s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'receivables'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000933s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001462s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003470s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000799s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001173s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'index'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002087s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000918s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000835s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002379s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'user' [ RunTime:0.001023s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_receivables'  AND `form_type` = 'structure' [ RunTime:0.001711s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001271s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001767s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001425s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002085s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005813s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001817s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.002366s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.001268s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.001263s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002344s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004148s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005610s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001727s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001790s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001133s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002023s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003274s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001721s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002171s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001159s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002697s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'update'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.003142s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001349s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002187s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000967s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001066s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001352s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003355s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002817s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001680s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000980s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001373s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000934s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'receivables'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.002300s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'delete'  AND `level` = 3  AND `pid` = 50 LIMIT 1 [ RunTime:0.003452s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.010154s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001540s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008777s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001010s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001257s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.011075s ]
[ sql ] [ SQL ] SELECT `receivables`.*,customer.name as customer_name,contract.name as contract_name,contract.num as contract_num,contract.money as contract_money FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`owner_user_id` IN (2) ORDER BY `receivables`.`update_time` DESC LIMIT 0,15 [ RunTime:0.005047s ]
[ sql ] [ SQL ] SELECT COUNT(receivables_id) AS tp_count FROM `5kcrm_crm_receivables` `receivables` LEFT JOIN `5kcrm_crm_customer` `customer` ON `receivables`.`customer_id`=`customer`.`customer_id` LEFT JOIN `5kcrm_crm_contract` `contract` ON `receivables`.`contract_id`=`contract`.`contract_id` WHERE  `receivables`.`owner_user_id` IN (2) LIMIT 1 [ RunTime:0.004425s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:41]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: order_type[/Users/kinta/workspace/php/72crm/application/crm/model/Receivables.php:88]
---------------------------------------------------------------
[ 2019-07-20T10:27:58+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/uniqueField
[ info ] localhost/72crm/index.php/admin/field/uniqueField [运行时间：0.040881s][吞吐率：24.46req/s] [内存消耗：1,166.83kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000054s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'uniqueField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000289s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->uniqueField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002370s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006583s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002556s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001860s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005030s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001756s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003810s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001347s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `is_unique` = 1 [ RunTime:0.000871s ]
---------------------------------------------------------------
[ 2019-07-20T10:27:58+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/scene/index
[ info ] localhost/72crm/index.php/admin/scene/index [运行时间：0.066026s][吞吐率：15.15req/s] [内存消耗：1,165.13kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'scene',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '17',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000230s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Scene->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/Scene.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003241s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006039s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.007113s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 0  AND `types` = 'crm_product' OR (  `types` = 'crm_product'  AND `type` = 1 ) ORDER BY `order_id` ASC,`scene_id` ASC [ RunTime:0.003367s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002862s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type`,`setting` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form','checkbox','user','structure','business_status') OR `types` = '' ORDER BY `order_id` ASC,`field_id` ASC,`update_time` DESC [ RunTime:0.003324s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `user_id` = 2  AND `is_hide` = 1  AND `types` = 'crm_product' ORDER BY `order_id` ASC [ RunTime:0.002261s ]
[ error ] [8]未定义数组索引: unFormType[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:924]
[ error ] [8]未定义数组索引: user_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:935]
---------------------------------------------------------------
[ 2019-07-20T10:27:59+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/field/getField
[ info ] localhost/72crm/index.php/admin/field/getField [运行时间：0.027515s][吞吐率：36.34req/s] [内存消耗：1,232.03kb] [文件加载：74]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'field',
    2 => 'getField',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '60',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'types' => 'crm_product',
  'module' => 'crm',
  'action' => 'index',
  'controller' => 'product',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000337s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Field->getField[ /Users/kinta/workspace/php/72crm/application/admin/controller/Field.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001613s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001320s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001497s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001719s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001873s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001307s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user_field` [ RunTime:0.001225s ]
[ sql ] [ SQL ] SELECT `datas` FROM `5kcrm_admin_user_field` WHERE  `types` = 'crm_product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.000801s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.001096s ]
[ sql ] [ SQL ] SELECT `field`,`name`,`form_type` FROM `5kcrm_admin_field` WHERE  `types` IN ('','crm_product')  AND `form_type` NOT IN ('file','form')  AND `field` NOT IN ('') ORDER BY `order_id` ASC,`field_id` ASC [ RunTime:0.001160s ]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:171]
[ error ] [8]未定义数组索引: action_id[/Users/kinta/workspace/php/72crm/application/admin/controller/Field.php:272]
[ error ] [8]未定义数组索引: types_id[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:484]
[ error ] [8]未定义数组索引: map[/Users/kinta/workspace/php/72crm/application/admin/model/Field.php:486]
---------------------------------------------------------------
[ 2019-07-20T10:27:59+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/product/index
[ info ] localhost/72crm/index.php/crm/product/index [运行时间：0.051419s][吞吐率：19.45req/s] [内存消耗：1,284.48kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'product',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '23',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'limit' => '15',
  'search' => '',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.022878s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Product->index[ /Users/kinta/workspace/php/72crm/application/crm/controller/Product.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001690s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001452s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001441s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003202s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002256s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001530s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000845s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.000947s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.000793s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene_default` [ RunTime:0.002304s ]
[ sql ] [ SQL ] SELECT `scene_id` FROM `5kcrm_admin_scene_default` WHERE  `types` = 'product'  AND `user_id` = 2 LIMIT 1 [ RunTime:0.004252s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_scene` [ RunTime:0.002963s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_scene` WHERE  `scene_id` IS NULL LIMIT 1 [ RunTime:0.001463s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_field` [ RunTime:0.002054s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `form_type` = 'user' [ RunTime:0.001302s ]
[ sql ] [ SQL ] SELECT `field` FROM `5kcrm_admin_field` WHERE  `types` = 'crm_product'  AND `form_type` = 'structure' [ RunTime:0.002739s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_product` [ RunTime:0.002358s ]
[ sql ] [ SQL ] SELECT `product`.*,product_category.name as category_name FROM `5kcrm_crm_product` `product` LEFT JOIN `5kcrm_crm_product_category` `product_category` ON `product_category`.`category_id`=`product`.`category_id` WHERE  `product`.`status` = '上架' LIMIT 0,15 [ RunTime:0.001962s ]
[ sql ] [ SQL ] SELECT COUNT(product_id) AS tp_count FROM `5kcrm_crm_product` `product` LEFT JOIN `5kcrm_crm_product_category` `product_category` ON `product_category`.`category_id`=`product`.`category_id` WHERE  `product`.`status` = '上架' LIMIT 1 [ RunTime:0.001822s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: scene_id[/Users/kinta/workspace/php/72crm/application/crm/model/Product.php:40]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
[ error ] [8]未定义变量: where[/Users/kinta/workspace/php/72crm/application/common.php:210]
[ error ] [8]未定义数组索引: product.status[/Users/kinta/workspace/php/72crm/application/crm/model/Product.php:68]
---------------------------------------------------------------
[ 2019-07-20T10:28:01+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.076192s][吞吐率：13.12req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000243s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001848s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001926s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002395s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003053s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003694s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001993s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002323s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001394s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002178s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001731s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001600s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001599s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004090s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003336s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001864s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001137s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001621s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002283s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001650s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005167s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002903s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002042s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001442s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001241s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001341s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:01+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.062619s][吞吐率：15.97req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000334s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003624s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002697s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002509s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003118s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004660s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002629s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001260s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002279s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003678s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.000994s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:01+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/total
[ info ] localhost/72crm/index.php/bi/customer/total [运行时间：0.297739s][吞吐率：3.36req/s] [内存消耗：1,339.41kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'total',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.003242s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->total[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001948s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003648s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004347s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007162s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002830s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001680s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006143s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003121s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001219s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004429s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001603s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001153s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003987s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001356s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002212s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006462s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006752s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002472s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001720s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.030346s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003665s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001156s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001920s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002024s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002692s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001694s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002637s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.012250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002934s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.001871s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001746s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001940s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002085s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.001245s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001515s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.004248s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.015647s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.003095s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003882s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.006948s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.014751s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.008797s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.008346s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.001715s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001534s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.001310s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.001718s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002302s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.001180s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002024s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.001809s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002596s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
---------------------------------------------------------------
[ 2019-07-20T10:28:01+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/statistics
[ info ] localhost/72crm/index.php/bi/customer/statistics [运行时间：0.431987s][吞吐率：2.31req/s] [内存消耗：1,321.03kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'statistics',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000626s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->statistics[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004163s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005084s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002296s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003939s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003464s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007678s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004504s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002324s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002625s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003370s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004568s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004294s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002516s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001445s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002267s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002479s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002947s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001740s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002181s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003067s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002506s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001607s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001316s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001565s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002087s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004278s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001533s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002198s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002968s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002425s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`thumb_img`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.006364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005002s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.001594s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003010s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.004467s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.002923s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.004063s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `return_time` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.001828s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:28:03+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.126846s][吞吐率：7.88req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000021s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000201s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001904s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002062s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001448s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001785s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004302s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004912s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001955s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003878s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004732s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001868s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001139s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004345s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.013937s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.006040s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002822s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001877s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005289s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003725s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002352s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.011044s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005055s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.007838s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.004265s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.002272s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:03+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordMode
[ info ] localhost/72crm/index.php/bi/customer/recordMode [运行时间：0.230591s][吞吐率：4.34req/s] [内存消耗：1,319.30kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000086s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordMode',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000437s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordMode[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002832s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003395s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002776s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.020289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004381s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.017792s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002847s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003266s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007422s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003603s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.009536s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.010241s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.009758s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002680s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002766s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002773s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003275s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003031s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002312s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007472s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003962s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004541s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002837s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002838s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006065s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005590s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002594s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005980s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003418s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002375s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003408s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.004513s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.003469s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '打电话' LIMIT 1 [ RunTime:0.004315s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '发邮件' LIMIT 1 [ RunTime:0.004537s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '发短信' LIMIT 1 [ RunTime:0.002330s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '见面拜访' LIMIT 1 [ RunTime:0.003026s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '活动' LIMIT 1 [ RunTime:0.003129s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:28:03+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.273641s][吞吐率：3.65req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000125s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001605s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006239s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009404s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006656s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004619s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005340s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001028s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000983s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001763s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002547s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001464s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003858s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:05+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.085264s][吞吐率：11.73req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000238s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001824s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001566s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001554s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003203s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002801s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003161s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001885s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002114s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003087s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002723s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001987s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003043s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003238s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002560s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004205s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001526s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002650s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003441s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.006198s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003380s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001734s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003025s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:05+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.071212s][吞吐率：14.04req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000304s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.007336s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.018605s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009162s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001668s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001902s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003597s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001712s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002331s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003215s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003925s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003878s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:05+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/conversionInfo
[ info ] localhost/72crm/index.php/bi/customer/conversionInfo [运行时间：0.189562s][吞吐率：5.28req/s] [内存消耗：1,322.61kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000095s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'conversionInfo',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000558s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->conversionInfo[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004256s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.013591s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003980s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.009902s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003565s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002053s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001385s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.009535s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004737s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004157s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.005168s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004615s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004272s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001406s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003692s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008788s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001841s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003922s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003212s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.005604s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002779s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003365s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002171s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002216s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001343s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002118s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002485s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002960s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.003926s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name`,`owner_user_id`,`create_user_id`,`industry`,`source`,`create_time` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (2)  AND `deal_status` = '已成交' [ RunTime:0.002034s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:28:05+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/conversion
[ info ] localhost/72crm/index.php/bi/customer/conversion [运行时间：0.416835s][吞吐率：2.40req/s] [内存消耗：1,339.43kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000096s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'conversion',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000691s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->conversion[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.014805s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010131s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002568s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.006784s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003813s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003664s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005954s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003582s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002604s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004742s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002538s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003064s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.007364s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003366s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002694s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001766s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002892s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003081s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002773s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002372s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003004s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004212s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002723s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.005102s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.011830s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002632s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001434s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004248s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002936s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003335s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003822s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005295s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.002803s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002324s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.002350s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002445s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.001792s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.006067s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.005938s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003116s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.000937s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001863s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.002110s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002291s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.002910s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001592s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.001575s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002191s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.004821s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003098s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.002261s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003054s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004170s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.003421s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002793s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
---------------------------------------------------------------
[ 2019-07-20T10:28:07+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.098531s][吞吐率：10.15req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000214s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002029s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002375s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005348s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001433s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003156s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001905s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002068s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003444s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004172s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006666s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002529s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002409s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004642s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.003915s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002928s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003016s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002828s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001984s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001996s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002098s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001306s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002019s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002087s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001987s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.007195s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:07+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.065549s][吞吐率：15.26req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000866s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010570s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003616s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002893s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005246s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005365s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004473s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001732s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001804s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.004452s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:07+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordMode
[ info ] localhost/72crm/index.php/bi/customer/recordMode [运行时间：0.220484s][吞吐率：4.54req/s] [内存消耗：1,319.30kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordMode',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000780s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordMode[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008523s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004793s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002911s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002612s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004756s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003702s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002451s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003036s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001416s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004394s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003917s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001507s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001173s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002224s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002524s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003396s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002266s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002786s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.004778s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.005311s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.004508s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001354s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002554s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003166s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001716s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001918s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004245s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.016219s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003565s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.009992s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2) LIMIT 1 [ RunTime:0.003529s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '打电话' LIMIT 1 [ RunTime:0.001501s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '发邮件' LIMIT 1 [ RunTime:0.004250s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '发短信' LIMIT 1 [ RunTime:0.004211s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '见面拜访' LIMIT 1 [ RunTime:0.002543s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (2)  AND `category` = '活动' LIMIT 1 [ RunTime:0.001106s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:28:12+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.053676s][吞吐率：18.63req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000237s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001586s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001662s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001347s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001145s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001913s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001018s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001570s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001566s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003092s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003022s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001778s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002507s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002403s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001414s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001253s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001221s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001483s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001846s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001261s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002232s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001893s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001524s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001104s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:12+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/pool
[ info ] localhost/72crm/index.php/bi/customer/pool [运行时间：0.187291s][吞吐率：5.34req/s] [内存消耗：1,345.26kb] [文件加载：79]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'pool',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000297s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->pool[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011876s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003874s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.007935s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.010202s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002860s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002199s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002503s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004321s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003482s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001674s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005557s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005718s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004009s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000991s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002456s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003369s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002070s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.000914s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001106s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003667s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001715s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003312s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001795s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002043s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001817s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.004917s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003712s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002250s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002062s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003003s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001204s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001887s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001609s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002098s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002624s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003522s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.005192s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001576s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001709s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001465s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003578s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002191s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001932s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001285s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001704s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
---------------------------------------------------------------
[ 2019-07-20T10:28:12+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.244437s][吞吐率：4.09req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001778s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004182s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009596s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002124s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.007379s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.007282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.011732s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004113s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.006240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005890s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002198s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004421s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002614s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:12+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/poolList
[ info ] localhost/72crm/index.php/bi/customer/poolList [运行时间：0.429188s][吞吐率：2.33req/s] [内存消耗：1,322.14kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'poolList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001447s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->poolList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006826s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005174s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009599s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.011414s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004700s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008161s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003421s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.003581s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003585s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003199s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.006701s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.002417s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004830s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001485s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.010022s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003719s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002907s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004078s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002177s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.005654s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001065s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.007792s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.006326s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002748s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005202s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.007125s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.008702s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.007846s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.008477s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`structure_id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.003268s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` WHERE  (  id =1 ) LIMIT 1 [ RunTime:0.002194s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.002156s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001625s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001998s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002392s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.002563s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
---------------------------------------------------------------
[ 2019-07-20T10:28:13+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.064714s][吞吐率：15.45req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000150s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000278s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002545s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002460s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002244s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001220s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001285s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001280s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001573s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001436s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002939s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001901s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001265s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001115s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001258s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001439s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001410s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005034s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001415s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001577s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.004134s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.005321s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.004160s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:13+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.179762s][吞吐率：5.56req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000902s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002818s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001772s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001506s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.009912s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002956s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002331s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004168s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002052s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001595s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.023565s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.017790s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002677s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.004034s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001985s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001902s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001277s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001268s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004622s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003652s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001810s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003187s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001381s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001047s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001015s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:13+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.356687s][吞吐率：2.80req/s] [内存消耗：1,240.40kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000342s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003370s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002651s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001483s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.021851s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003098s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002898s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.005044s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002286s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003179s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003587s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001437s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.005157s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001345s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002147s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001488s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002556s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.033403s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.031576s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002562s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003575s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002102s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002352s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002417s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001179s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:13+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.332631s][吞吐率：3.01req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000370s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.025060s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.012702s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006200s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.021160s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003646s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005411s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.008081s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002851s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.006888s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003136s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003412s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003108s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:14+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/userCycle
[ info ] localhost/72crm/index.php/bi/customer/userCycle [运行时间：0.523577s][吞吐率：1.91req/s] [内存消耗：1,358.53kb] [文件加载：80]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'userCycle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000292s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->userCycle[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.023573s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.017513s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003665s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001645s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003741s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002365s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001852s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001639s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002010s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003070s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001972s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002686s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003466s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003438s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003724s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001564s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001380s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001801s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `id` IN (3,4,5,6,7,11,12,13,14,15,18,19,21,23,24,25,26,28,30,31,33,35,36,37,38,40,41,43,44,45,46,48,49,50,51,52,53,54,55,59,60,1,2,10,22,29,34,42,56,8,9,16,17,20,27,32,39,47,57,58,61,62,63,64,65,66,67,68,69,70,71,72)  AND `status` = 1 [ RunTime:0.001681s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.005878s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003643s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002930s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001420s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.003439s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002010s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.002152s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001333s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.001585s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002773s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.003940s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001404s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' [ RunTime:0.001796s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001754s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' [ RunTime:0.003208s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004804s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' [ RunTime:0.002610s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002164s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' [ RunTime:0.001987s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002600s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' [ RunTime:0.004385s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004594s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' [ RunTime:0.002270s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002645s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' [ RunTime:0.004464s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001407s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' [ RunTime:0.003066s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.005035s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' [ RunTime:0.003181s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003129s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' [ RunTime:0.002707s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002005s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' [ RunTime:0.002251s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001764s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' [ RunTime:0.002207s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (2)  AND `type` = 1 [ RunTime:0.006507s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004374s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' [ RunTime:0.001899s ]
[ error ] [8]未定义数组索引: _AUTH_LIST_[/Users/kinta/workspace/php/72crm/extend/com/HonrayAuth.php:98]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
---------------------------------------------------------------
[ 2019-07-20T10:28:14+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.436003s][吞吐率：2.29req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000310s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004353s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002303s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003168s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.003422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.010512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003516s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.001754s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004261s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003192s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003111s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:14+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.311555s][吞吐率：3.21req/s] [内存消耗：1,178.06kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000590s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006359s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007797s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006855s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.004639s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005124s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001695s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 2 [ RunTime:0.002735s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (8,10) GROUP BY `types` [ RunTime:0.002201s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004902s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002150s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003177s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001134s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:22+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/base/logout
[ info ] localhost/72crm/index.php/admin/base/logout [运行时间：0.004053s][吞吐率：246.74req/s] [内存消耗：875.48kb] [文件加载：57]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000040s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'base',
    2 => 'logout',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => '6526ce6337818e78db7754b1c776e770',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ RUN ] app\admin\controller\Base->logout[ /Users/kinta/workspace/php/72crm/application/admin/controller/Base.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: mobile[/Users/kinta/workspace/php/72crm/application/admin/controller/Base.php:40]
---------------------------------------------------------------
[ 2019-07-20T10:28:23+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/system/index
[ info ] localhost/72crm/index.php/admin/system/index [运行时间：0.036461s][吞吐率：27.43req/s] [内存消耗：1,059.40kb] [文件加载：67]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'system',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000219s ]
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\System->index[ /Users/kinta/workspace/php/72crm/application/admin/controller/System.php ]
[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: authkey[/Users/kinta/workspace/php/72crm/application/common/behavior/AuthenticateBehavior.php:33]
[ error ] [8]Undefined property: app\admin\controller\System::$userInfo[/Users/kinta/workspace/php/72crm/application/admin/controller/System.php:28]
[ error ] [8]Trying to get property 'groups' of non-object[/Users/kinta/workspace/php/72crm/application/common.php:1192]
[ sql ] [ DB ] CONNECT:[ UseTime:0.002184s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.019363s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN ('') GROUP BY `types` [ RunTime:0.002928s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_system` [ RunTime:0.001572s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_system` [ RunTime:0.001159s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/base/login
[ info ] localhost/72crm/index.php/admin/base/login [运行时间：0.044221s][吞吐率：22.61req/s] [内存消耗：1,149.45kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'base',
    2 => 'login',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '36',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'username' => '18888888888',
  'password' => '123456',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ RUN ] app\admin\controller\Base->login[ /Users/kinta/workspace/php/72crm/application/admin/controller/Base.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: authkey[/Users/kinta/workspace/php/72crm/application/common/controller/Common.php:31]
[ error ] [8]未定义数组索引: mobile[/Users/kinta/workspace/php/72crm/application/admin/controller/Base.php:25]
[ error ] [8]未定义变量: type[/Users/kinta/workspace/php/72crm/application/admin/controller/Base.php:26]
[ error ] [8]未定义变量: authKey[/Users/kinta/workspace/php/72crm/application/admin/controller/Base.php:26]
[ error ] [8]未定义数组索引: menusList[/Users/kinta/workspace/php/72crm/application/admin/model/User.php:444]
[ error ] [8]A non well formed numeric value encountered[/Users/kinta/workspace/php/72crm/application/admin/model/User.php:449]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001802s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003996s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `username` = '18888888888'  AND `type` = 1 LIMIT 1 [ RunTime:0.002186s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001240s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001040s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_menu` [ RunTime:0.001641s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_menu` WHERE  `status` = 1 ORDER BY `sort` ASC [ RunTime:0.003427s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001510s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001215s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001485s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002239s ]
[ sql ] [ SQL ] UPDATE `5kcrm_admin_user`  SET `authkey`='e05cc0206fdd31453d2abcbb7601b703',`authkey_time`=1563676109  WHERE  `id` = 1 [ RunTime:0.003066s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/index/authList
[ info ] localhost/72crm/index.php/admin/index/authList [运行时间：0.030974s][吞吐率：32.29req/s] [内存消耗：1,108.17kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'authList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000384s ]
[ info ] [ RUN ] app\admin\controller\Index->authList[ /Users/kinta/workspace/php/72crm/application/admin/controller/Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003094s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001767s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002385s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001503s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001811s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001352s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002648s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002060s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001616s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` WHERE  `status` = 1 ORDER BY `types` ASC [ RunTime:0.001141s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001054s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000789s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.060265s][吞吐率：16.59req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000296s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002894s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002314s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002964s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001773s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001593s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002351s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001195s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001135s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002519s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.007951s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001914s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001116s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001107s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001660s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001816s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001879s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001643s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001158s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001471s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002046s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001526s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001154s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001374s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.107089s][吞吐率：9.34req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000049s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000248s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002837s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002662s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001548s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002363s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002294s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001862s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001639s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001936s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002377s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001589s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002589s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001699s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001178s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001477s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001701s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001534s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001544s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001286s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001633s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001568s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001321s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001440s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001125s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001724s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.002324s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.201660s][吞吐率：4.96req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000283s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002847s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003680s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001945s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.007140s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002324s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001252s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001478s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002270s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001749s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001107s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001025s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003686s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001827s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002364s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.031324s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005694s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005759s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004863s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001490s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001256s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:30+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.142849s][吞吐率：7.00req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000369s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.026982s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010304s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009355s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002215s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002264s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003085s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.007741s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003737s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.008098s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.026706s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.007227s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:30+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/userCycle
[ info ] localhost/72crm/index.php/bi/customer/userCycle [运行时间：0.289349s][吞吐率：3.46req/s] [内存消耗：1,307.41kb] [文件加载：76]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'userCycle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000553s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->userCycle[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.028583s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007792s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.007488s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003187s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003644s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003394s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001854s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001972s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001151s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001315s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004615s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001505s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002680s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001402s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.005801s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.005334s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002146s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002390s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002333s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001905s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002247s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002396s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.010697s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001619s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002298s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002917s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003201s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' [ RunTime:0.001483s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001489s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' [ RunTime:0.001555s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001493s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' [ RunTime:0.001184s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001301s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' [ RunTime:0.001259s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001515s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' [ RunTime:0.001987s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001536s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' [ RunTime:0.001667s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' [ RunTime:0.002013s ]
[ sql ] [ SQL ] SELECT `create_time` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 1 LIMIT 1 [ RunTime:0.001603s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002043s ]
[ sql ] [ SQL ] SELECT `order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1  AND `check_status` = 2 ORDER BY `order_date` ASC LIMIT 1 [ RunTime:0.000980s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002014s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' [ RunTime:0.004403s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' [ RunTime:0.001270s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002458s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' [ RunTime:0.001113s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001520s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' [ RunTime:0.001081s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001399s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' [ RunTime:0.001934s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.001516s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001572s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' [ RunTime:0.001447s ]
[ sql ] [ SQL ] SELECT `create_time` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 1 LIMIT 1 [ RunTime:0.001611s ]
[ sql ] [ SQL ] SELECT `order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1  AND `check_status` = 2 ORDER BY `order_date` ASC LIMIT 1 [ RunTime:0.001783s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001936s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' [ RunTime:0.002800s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
---------------------------------------------------------------
[ 2019-07-20T10:28:30+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.297412s][吞吐率：3.36req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000039s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000528s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003741s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007550s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006347s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003080s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002834s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002623s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001349s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005724s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002004s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002637s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003968s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:30+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.264346s][吞吐率：3.78req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000070s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000272s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.030547s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008523s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002414s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001681s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002616s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002316s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003129s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004640s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001723s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001787s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001563s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:44+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.093251s][吞吐率：10.72req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000061s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000669s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004635s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009522s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002685s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003629s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004401s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002792s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004245s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002992s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002039s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001429s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001711s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001315s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001280s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001645s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002148s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001477s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002546s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001089s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002515s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002116s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002434s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000734s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.002052s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:44+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.058367s][吞吐率：17.13req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000156s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000590s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009856s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010965s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002700s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001452s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006158s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002535s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001454s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001147s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001513s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000979s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001882s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:44+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：0.098955s][吞吐率：10.11req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.007750s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004080s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002612s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003975s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.009270s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.006188s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.008598s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.010788s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:44+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/funnel
[ info ] localhost/72crm/index.php/bi/business/funnel [运行时间：0.207272s][吞吐率：4.82req/s] [内存消耗：1,197.67kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '43',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type_id' => '1',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000378s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->funnel[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003837s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005389s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004609s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003595s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.012437s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003785s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004635s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002853s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001823s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006870s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003665s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002670s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005768s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.004296s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.006600s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001198s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.004229s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004398s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003262s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002128s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002159s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004960s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002137s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001840s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001972s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.004594s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.008539s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.002977s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.006056s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.002768s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.003390s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.004927s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.002474s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.003540s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.002987s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.002576s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.003342s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.007457s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.004370s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.003585s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.007921s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.064926s][吞吐率：15.40req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000059s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000378s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003196s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001556s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001867s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002442s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002752s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001677s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001193s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003352s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002042s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001464s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001419s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001326s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.002044s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001201s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001245s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003369s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001378s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001165s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001462s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001550s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001504s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:49+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.052151s][吞吐率：19.18req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000391s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004758s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005767s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003331s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004914s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002792s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001982s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001393s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002204s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001262s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002318s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002271s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:49+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/businessTrend
[ info ] localhost/72crm/index.php/bi/business/businessTrend [运行时间：0.231728s][吞吐率：4.32req/s] [内存消耗：1,214.08kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'businessTrend',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000516s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->businessTrend[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005949s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008113s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004972s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004587s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002860s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001544s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001833s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002715s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002108s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002224s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006088s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003469s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001785s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002464s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.005300s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002834s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001376s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001892s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002112s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003214s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002048s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003062s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003364s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.003829s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.008013s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.004732s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.003153s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.002034s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.002983s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001856s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.002377s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.003205s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002119s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002095s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.002432s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.005530s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.004633s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.003884s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.001775s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.004846s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.002883s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002539s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.001692s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.003034s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.004722s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.002731s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.002265s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.003129s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.002840s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
---------------------------------------------------------------
[ 2019-07-20T10:28:49+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/trendList
[ info ] localhost/72crm/index.php/bi/business/trendList [运行时间：0.431313s][吞吐率：2.32req/s] [内存消耗：1,209.57kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'trendList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000748s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->trendList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004597s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008749s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002310s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005897s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003374s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002520s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002213s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005196s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004579s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001223s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003377s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.035346s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.018190s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005079s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002699s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001660s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003863s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002910s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002427s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002095s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003726s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002508s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002287s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002499s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003475s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.005222s ]
[ sql ] [ SQL ] SELECT `business_id`,`customer_id`,`money`,`type_id`,`status_id`,`deal_date`,`create_user_id`,`owner_user_id` FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 [ RunTime:0.001512s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business` WHERE  `business_id` = 1 LIMIT 1 [ RunTime:0.002422s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.002449s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001137s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.004757s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.004134s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.003500s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.003491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005879s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.002289s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.002091s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.003036s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.002678s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.002242s ]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:28:57+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.088008s][吞吐率：11.36req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000583s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004680s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004287s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001623s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005043s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003916s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001789s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002882s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004577s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001652s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001687s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001917s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002708s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.008348s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001572s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001409s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001179s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001910s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001946s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001418s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001520s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004787s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002104s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001925s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001279s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001308s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001261s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:57+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.064010s][吞吐率：15.62req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000164s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000438s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.013747s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004065s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005496s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002973s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005082s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002569s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005171s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002371s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001549s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003006s ]
---------------------------------------------------------------
[ 2019-07-20T10:28:57+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/trendList
[ info ] localhost/72crm/index.php/bi/business/trendList [运行时间：0.202460s][吞吐率：4.94req/s] [内存消耗：1,209.57kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000084s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'trendList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000525s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->trendList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010045s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003158s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001933s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002889s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002663s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004137s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001868s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002472s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001723s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001353s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003136s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002156s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001765s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002869s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002255s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004188s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.009307s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002164s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001806s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001860s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003412s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004629s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.008521s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002044s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002758s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002612s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.004480s ]
[ sql ] [ SQL ] SELECT `business_id`,`customer_id`,`money`,`type_id`,`status_id`,`deal_date`,`create_user_id`,`owner_user_id` FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 [ RunTime:0.001502s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business` WHERE  `business_id` = 1 LIMIT 1 [ RunTime:0.002466s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001316s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.004720s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.004979s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.001999s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.006514s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.003125s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002732s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.009022s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.001223s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.001159s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.004674s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.002261s ]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:28:57+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/win
[ info ] localhost/72crm/index.php/bi/business/win [运行时间：0.424769s][吞吐率：2.35req/s] [内存消耗：1,215.09kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'win',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000365s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->win[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003104s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010163s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009478s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.021655s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.007012s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005492s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001972s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001431s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001014s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001323s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002398s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.007160s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004134s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002871s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004265s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.004909s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.004445s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005414s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002551s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001996s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005343s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002949s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002082s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002120s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.004309s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002588s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.004387s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.003017s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002690s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.004997s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002520s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.002558s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002289s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002969s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `is_end` = 1 LIMIT 1 [ RunTime:0.007472s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.003827s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002878s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.003424s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002485s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.004741s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `is_end` = 1 LIMIT 1 [ RunTime:0.001451s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.003626s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `is_end` = 1 LIMIT 1 [ RunTime:0.003416s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.005736s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002035s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.002141s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `is_end` = 1 LIMIT 1 [ RunTime:0.003521s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.003330s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `is_end` = 1 LIMIT 1 [ RunTime:0.003143s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.003400s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `is_end` = 1 LIMIT 1 [ RunTime:0.006706s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
---------------------------------------------------------------
[ 2019-07-20T10:29:08+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.051729s][吞吐率：19.33req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000238s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001691s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001591s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001725s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002011s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003086s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002125s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002150s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002133s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001516s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001654s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002039s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001733s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001408s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001404s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001285s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001366s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002620s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001575s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001333s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001227s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001477s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001288s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:08+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.048237s][吞吐率：20.73req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000059s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000225s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004960s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003863s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003047s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002159s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.007111s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005174s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001760s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001006s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002273s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003166s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002414s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002333s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:08+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：0.064677s][吞吐率：15.46req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000044s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000449s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003900s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006098s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003076s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.003532s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.002298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.004886s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.001707s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:08+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/funnel
[ info ] localhost/72crm/index.php/bi/business/funnel [运行时间：0.113611s][吞吐率：8.80req/s] [内存消耗：1,197.67kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000040s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '43',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type_id' => '1',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000328s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->funnel[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003065s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002633s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003604s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003212s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003125s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001275s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000790s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001583s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001144s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002327s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.003692s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001467s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001741s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001019s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002160s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003379s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002555s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001389s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001972s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001248s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.001518s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.001935s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.002777s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.001935s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.003098s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.001409s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.001217s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.005598s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.003053s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.004395s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.002570s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.003497s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.004119s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.002550s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.002522s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:31+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.085976s][吞吐率：11.63req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000053s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000396s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002186s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003657s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005321s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003817s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002943s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001346s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001230s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001634s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001874s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002240s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002239s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001898s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001239s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001299s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001915s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003417s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002561s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002406s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.005740s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001991s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001994s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002887s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.003039s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002491s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001211s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001713s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:31+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/pool
[ info ] localhost/72crm/index.php/bi/customer/pool [运行时间：0.181256s][吞吐率：5.52req/s] [内存消耗：1,285.44kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000084s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'pool',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001796s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->pool[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003742s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003766s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003380s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003732s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004527s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001700s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.006042s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002239s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001505s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002046s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003070s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002786s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.009678s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002296s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001844s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001185s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005032s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002282s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002198s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001990s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002116s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002275s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002228s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001785s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001955s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.002763s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002969s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001648s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003908s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.005523s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003821s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002190s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.004582s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003044s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002351s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001597s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001705s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002682s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002495s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001768s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002229s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001928s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002492s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002287s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.005581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003438s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001579s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002145s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.004980s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002221s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
---------------------------------------------------------------
[ 2019-07-20T10:29:31+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.220074s][吞吐率：4.54req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000283s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004346s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005968s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003711s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005224s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003789s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003842s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002172s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003490s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004457s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003944s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001900s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:32+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/poolList
[ info ] localhost/72crm/index.php/bi/customer/poolList [运行时间：0.384890s][吞吐率：2.60req/s] [内存消耗：1,267.28kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'poolList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000382s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->poolList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003189s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006025s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004141s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004043s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003175s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003022s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005989s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.013369s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.006268s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003815s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005455s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001396s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.005976s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002956s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002188s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004745s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002240s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003064s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002722s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002687s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003862s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.005314s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.003838s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001949s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`structure_id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.001816s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` WHERE  (  id =1 ) LIMIT 1 [ RunTime:0.010216s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.004652s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 1  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002114s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 1  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005887s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1 LIMIT 1 [ RunTime:0.003880s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` WHERE  (  id =1 ) LIMIT 1 [ RunTime:0.001923s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.004038s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002811s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.004370s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:33+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.109173s][吞吐率：9.16req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000482s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008465s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003917s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.007879s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006111s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001457s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001112s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001513s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002942s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004448s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001081s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001519s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001816s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003357s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.007811s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001343s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001950s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001800s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001777s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004534s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003075s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001758s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001648s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001571s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001221s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003279s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:33+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.200020s][吞吐率：5.00req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000025s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.005465s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005712s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009411s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003161s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003104s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006162s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004018s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003756s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002270s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005662s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.022632s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002597s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003778s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001910s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002401s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001864s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003574s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002380s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001844s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001595s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002030s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001535s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000725s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001091s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.004312s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003649s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001545s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:33+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.302065s][吞吐率：3.31req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000566s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011585s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003270s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001597s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004677s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002262s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004902s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003080s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004392s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005956s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003144s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.021164s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.007923s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002597s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001546s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002219s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001323s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001769s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004080s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004027s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003077s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003498s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001891s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002181s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001902s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001404s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001795s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:33+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/userCycle
[ info ] localhost/72crm/index.php/bi/customer/userCycle [运行时间：0.406743s][吞吐率：2.46req/s] [内存消耗：1,307.41kb] [文件加载：76]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'userCycle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001067s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->userCycle[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012929s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003086s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002925s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.009240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002674s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002408s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003283s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002302s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.028510s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003186s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001215s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005277s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002820s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001037s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000794s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000615s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000676s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000711s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.001161s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000745s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000742s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000725s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.018830s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' [ RunTime:0.039929s ]
[ sql ] [ SQL ] SELECT `create_time` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 1 LIMIT 1 [ RunTime:0.005367s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.006540s ]
[ sql ] [ SQL ] SELECT `order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1  AND `check_status` = 2 ORDER BY `order_date` ASC LIMIT 1 [ RunTime:0.002091s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001086s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' [ RunTime:0.005987s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003170s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' [ RunTime:0.002145s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001052s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002029s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' [ RunTime:0.003529s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004982s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' [ RunTime:0.003167s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.002474s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004340s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' [ RunTime:0.004399s ]
[ sql ] [ SQL ] SELECT `create_time` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 1 LIMIT 1 [ RunTime:0.009109s ]
[ sql ] [ SQL ] SELECT `order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1  AND `check_status` = 2 ORDER BY `order_date` ASC LIMIT 1 [ RunTime:0.007312s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001976s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' [ RunTime:0.001926s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
---------------------------------------------------------------
[ 2019-07-20T10:29:33+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.447426s][吞吐率：2.24req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001022s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.020558s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003841s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002920s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003362s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004012s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001840s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005012s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003929s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004521s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004078s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003866s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:34+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.414308s][吞吐率：2.41req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000631s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.026189s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006566s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001885s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004440s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.010329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006236s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004330s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002808s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004922s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004228s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004372s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003096s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:34+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.362902s][吞吐率：2.76req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000042s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000947s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.027031s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004096s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002483s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004973s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006765s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.007524s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002796s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002174s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004994s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003405s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003433s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002528s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:35+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.100709s][吞吐率：9.93req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000183s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000457s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003467s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001792s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003466s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002097s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005060s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001921s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001652s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001744s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.007026s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.010875s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.004627s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001713s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001136s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001084s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001825s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003340s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002616s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002755s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001899s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001906s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.002951s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:35+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.082950s][吞吐率：12.06req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000073s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001248s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008808s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007985s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006100s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004661s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003646s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.011011s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001305s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001565s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.005564s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002416s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:35+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/total
[ info ] localhost/72crm/index.php/bi/customer/total [运行时间：0.272423s][吞吐率：3.67req/s] [内存消耗：1,279.68kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000052s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'total',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000720s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->total[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010403s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005449s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003330s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.007083s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004389s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.008279s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.007535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003231s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003944s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.008873s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003142s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001424s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002069s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004898s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001278s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.000952s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001279s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003341s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002978s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001667s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004533s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003375s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002811s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002695s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.003070s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002229s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.003137s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.003668s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001390s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003317s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.006418s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002497s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.001324s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004877s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.003527s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002410s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.001681s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002781s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.004666s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002659s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.005012s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002463s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.003339s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003231s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.002769s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003912s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.002365s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004224s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.002952s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003079s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:99]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:101]
---------------------------------------------------------------
[ 2019-07-20T10:29:36+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/statistics
[ info ] localhost/72crm/index.php/bi/customer/statistics [运行时间：0.433284s][吞吐率：2.31req/s] [内存消耗：1,262.24kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'statistics',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001115s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->statistics[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.014587s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007342s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005015s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.012200s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002728s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008266s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004115s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002588s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.007484s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004182s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002214s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.007094s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004333s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001129s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003345s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002578s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002802s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003194s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002459s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003464s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.007996s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002206s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002650s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002499s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.006219s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002104s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001712s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`thumb_img`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.005097s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.006886s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1 LIMIT 1 [ RunTime:0.001929s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001726s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.004822s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` = 1  AND `check_status` = 2  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.006348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.004565s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` = 1  AND `check_status` = 2  AND `return_time` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.010369s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.002192s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `order_date` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.001297s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` = 2  AND `check_status` = 2  AND `return_time` BETWEEN '2019-01-01' AND '2019-12-31' LIMIT 1 [ RunTime:0.001296s ]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:29:47+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.080045s][吞吐率：12.49req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000038s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000680s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003239s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007864s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003141s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002020s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004449s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003047s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001392s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001134s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001933s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001469s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001658s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001979s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001185s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001435s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001667s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001315s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001828s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001949s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001624s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.002719s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:47+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.066254s][吞吐率：15.09req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000041s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000454s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002876s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007985s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005028s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.007426s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.008360s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008303s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002060s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001841s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001985s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001733s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003310s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002016s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:47+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordTimes
[ info ] localhost/72crm/index.php/bi/customer/recordTimes [运行时间：0.227070s][吞吐率：4.40req/s] [内存消耗：1,284.20kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordTimes',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000415s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordTimes[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010467s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004215s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.008137s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.013085s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004662s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002680s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002799s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003112s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001116s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001488s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.007081s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003671s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001849s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002051s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001987s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001819s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002104s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002105s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002121s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001815s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002076s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004366s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002492s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001917s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001723s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.002420s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001572s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.002178s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.004060s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.002381s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002521s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.004681s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.007267s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.002084s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002278s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.001252s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001220s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.005302s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002273s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.002578s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002045s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002302s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.002569s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.010882s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.000725s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.001352s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.000678s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:158]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:160]
---------------------------------------------------------------
[ 2019-07-20T10:29:47+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordList
[ info ] localhost/72crm/index.php/bi/customer/recordList [运行时间：0.447029s][吞吐率：2.24req/s] [内存消耗：1,248.55kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000038s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.008506s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001952s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007313s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003345s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003621s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004127s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004787s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002473s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002061s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.006305s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002213s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004978s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003597s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002602s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.006165s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.006021s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.005119s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002092s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002389s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006562s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005313s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002144s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004521s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003471s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004303s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.005605s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.004808s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002061s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.003044s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.004219s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` = 1  AND `create_time` BETWEEN 1546272000 AND 1577807999 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.003439s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` = 1  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.008729s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM ( SELECT count(*) FROM `5kcrm_admin_record` WHERE  `create_user_id` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 GROUP BY `types_id` ) `_group_count_` LIMIT 1 [ RunTime:0.006775s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_user_id` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.003466s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:58+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.089164s][吞吐率：11.22req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000070s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000544s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003028s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002545s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006980s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004186s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002066s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002522s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001546s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001488s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001177s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000940s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001961s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002401s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004084s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001789s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002316s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003087s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001879s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001490s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001963s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002685s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.006450s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003321s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:58+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.058935s][吞吐率：16.97req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000277s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009589s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004987s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005378s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003232s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003780s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005040s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002195s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003261s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004000s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001333s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001909s ]
---------------------------------------------------------------
[ 2019-07-20T10:29:58+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/recordMode
[ info ] localhost/72crm/index.php/bi/customer/recordMode [运行时间：0.216702s][吞吐率：4.61req/s] [内存消耗：1,262.99kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'recordMode',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.008339s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->recordMode[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003750s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006650s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003122s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004704s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005075s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003931s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004155s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001969s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002663s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002744s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002177s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003692s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.006149s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.000717s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.005939s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.005312s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005423s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003690s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003886s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.010722s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004591s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.032036s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001825s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001004s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_record` [ RunTime:0.001417s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (1,2)  AND `category` = '打电话' LIMIT 1 [ RunTime:0.002753s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (1,2)  AND `category` = '发邮件' LIMIT 1 [ RunTime:0.003481s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (1,2)  AND `category` = '发短信' LIMIT 1 [ RunTime:0.004622s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (1,2)  AND `category` = '见面拜访' LIMIT 1 [ RunTime:0.002099s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `create_user_id` IN (1,2)  AND `category` = '活动' LIMIT 1 [ RunTime:0.002329s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:03+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.088392s][吞吐率：11.31req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000052s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000524s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004384s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003067s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003374s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002088s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003217s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002630s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001458s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001860s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001035s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005809s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002644s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002367s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001496s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001593s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001463s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002963s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001130s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001646s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002480s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002025s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005765s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.004564s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002193s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001044s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001448s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:04+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/conversion
[ info ] localhost/72crm/index.php/bi/customer/conversion [运行时间：0.287248s][吞吐率：3.48req/s] [内存消耗：1,279.70kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'conversion',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001209s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->conversion[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003840s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010516s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.010422s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.017117s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005172s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.021896s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002941s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.010422s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003986s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001891s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001478s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003391s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003674s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002107s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001934s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.005355s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.020314s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004199s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004110s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001302s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003154s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005365s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.006258s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.006040s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.005044s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003197s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.004913s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.002315s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002399s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004164s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.003967s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002542s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.001823s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002359s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.003123s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002241s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.002237s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002197s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.002203s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004865s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.004938s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001540s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002563s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.006017s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.006048s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002353s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.003450s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004805s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.002931s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002981s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:277]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:279]
---------------------------------------------------------------
[ 2019-07-20T10:30:04+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.346802s][吞吐率：2.88req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000036s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000293s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008464s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002792s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.021821s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002985s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005018s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005575s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.006772s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002133s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005029s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.005861s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003762s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001203s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:04+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/conversionInfo
[ info ] localhost/72crm/index.php/bi/customer/conversionInfo [运行时间：0.475606s][吞吐率：2.10req/s] [内存消耗：1,275.74kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000024s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'conversionInfo',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000286s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->conversionInfo[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011747s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003448s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005243s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005849s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005805s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004204s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004825s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.006145s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004184s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002582s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001146s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001358s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002285s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.009521s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.004175s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002464s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.000994s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004190s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003618s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005099s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002626s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003976s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001480s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001551s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002001s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001749s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003055s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.006343s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name`,`owner_user_id`,`create_user_id`,`industry`,`source`,`create_time` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' [ RunTime:0.003537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002524s ]
[ sql ] [ SQL ] SELECT `contract_id`,`name`,`money`,`create_time`,`order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1 ORDER BY `contract_id` ASC LIMIT 1 [ RunTime:0.001589s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001363s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `5kcrm_admin_structure` WHERE  (  id = 1 ) LIMIT 1 [ RunTime:0.002382s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002557s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `5kcrm_admin_structure` WHERE  (  id = 1 ) LIMIT 1 [ RunTime:0.002876s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.005888s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `customer_id` = 1  AND `contract_id` = 1 LIMIT 1 [ RunTime:0.002539s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.079725s][吞吐率：12.54req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000256s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001765s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002050s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001556s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001853s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003797s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002959s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003008s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003295s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004050s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002686s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001862s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002064s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002014s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001443s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002090s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001491s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001357s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002151s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001718s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001588s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001978s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003113s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001515s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002025s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001694s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.005124s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:10+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.061185s][吞吐率：16.34req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000036s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001699s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004864s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009631s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001717s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006069s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003714s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003423s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001700s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.006846s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003873s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002627s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002281s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:10+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/poolList
[ info ] localhost/72crm/index.php/bi/customer/poolList [运行时间：0.256004s][吞吐率：3.91req/s] [内存消耗：1,267.28kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000120s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'poolList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000535s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->poolList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003167s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002459s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006649s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.008636s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008680s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.044862s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.015644s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.015684s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.008718s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001731s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001478s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002456s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001060s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003959s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001498s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001680s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001904s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002304s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002797s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002065s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002361s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000967s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005861s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001668s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.003547s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001332s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001697s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`structure_id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.002985s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` WHERE  (  id =1 ) LIMIT 1 [ RunTime:0.002863s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.006475s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 1  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001468s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 1  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.005437s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.004343s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1 LIMIT 1 [ RunTime:0.001532s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_structure` WHERE  (  id =1 ) LIMIT 1 [ RunTime:0.002144s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001814s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `user_id` = 2  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002752s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2 LIMIT 1 [ RunTime:0.000865s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:10+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/pool
[ info ] localhost/72crm/index.php/bi/customer/pool [运行时间：0.441182s][吞吐率：2.27req/s] [内存消耗：1,285.44kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000036s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'pool',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000447s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->pool[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008900s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007652s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006839s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003226s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003189s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005109s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003853s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003666s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.006550s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001356s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001794s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002518s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003831s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001078s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002643s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.004889s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001820s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002865s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004651s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005975s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005263s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002675s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003196s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002345s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001842s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.003433s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_action_record` [ RunTime:0.001619s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001729s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001534s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002027s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001727s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003428s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001440s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.001264s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.007413s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.013875s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001411s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002020s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002125s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002928s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002682s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.002117s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002256s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001029s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.003453s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.003441s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.004478s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '将客户放入公海' LIMIT 1 [ RunTime:0.001675s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_admin_action_record` WHERE  `user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `content` = '领取了客户' LIMIT 1 [ RunTime:0.002020s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:358]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:360]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.055345s][吞吐率：18.07req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000053s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000331s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002927s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002612s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002042s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001812s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004645s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003122s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001415s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000969s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001982s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001454s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001772s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002063s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001458s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001345s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001342s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001434s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001308s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001112s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001161s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001163s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001019s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000990s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001597s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.172013s][吞吐率：5.81req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000303s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002410s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002484s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001581s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005710s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.007572s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002115s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.018156s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003573s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002516s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.014856s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.006244s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002771s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002995s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001601s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001772s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001570s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001325s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002383s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003791s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000957s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.006103s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002756s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003131s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.283459s][吞吐率：3.53req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000037s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'customer',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000334s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002963s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002438s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002185s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.019209s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003015s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002133s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001734s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002224s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002089s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003403s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004077s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003990s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.005073s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002954s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002116s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.003927s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005075s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002698s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.010057s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005044s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003605s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002014s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001692s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001469s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002086s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.004199s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.342297s][吞吐率：2.92req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000816s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012839s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009105s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.005485s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005851s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006174s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.009188s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.025148s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.044687s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.007295s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001305s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.007781s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002002s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.274034s][吞吐率：3.65req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000038s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000419s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004660s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003700s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004246s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.007776s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003077s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.011892s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.009538s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.012799s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.001740s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.004948s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002515s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001585s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.204392s][吞吐率：4.89req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000111s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000586s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.022236s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.012305s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.012455s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003625s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002502s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002933s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.019516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003921s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002287s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002550s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001634s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:18+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/userCycle
[ info ] localhost/72crm/index.php/bi/customer/userCycle [运行时间：0.397046s][吞吐率：2.52req/s] [内存消耗：1,307.41kb] [文件加载：76]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000027s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'userCycle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000939s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->userCycle[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.048153s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010594s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004892s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002246s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005765s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004051s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002856s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001054s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.007210s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001421s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001453s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002143s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002252s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004443s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.004390s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003273s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002177s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002210s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001893s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003940s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003923s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003146s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001673s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.003303s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001059s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001704s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.005373s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002979s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `deal_status` = '已成交' [ RunTime:0.002177s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002131s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `deal_status` = '已成交' [ RunTime:0.003826s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003524s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `deal_status` = '已成交' [ RunTime:0.001910s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.005266s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `deal_status` = '已成交' [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002274s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `deal_status` = '已成交' [ RunTime:0.002239s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.004148s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `deal_status` = '已成交' [ RunTime:0.002608s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001849s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `deal_status` = '已成交' [ RunTime:0.004224s ]
[ sql ] [ SQL ] SELECT `create_time` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 1 LIMIT 1 [ RunTime:0.003297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002695s ]
[ sql ] [ SQL ] SELECT `order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1  AND `check_status` = 2 ORDER BY `order_date` ASC LIMIT 1 [ RunTime:0.002882s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003348s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `deal_status` = '已成交' [ RunTime:0.002887s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003557s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `deal_status` = '已成交' [ RunTime:0.003003s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002118s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `deal_status` = '已成交' [ RunTime:0.002802s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002977s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `deal_status` = '已成交' [ RunTime:0.002421s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002846s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `deal_status` = '已成交' [ RunTime:0.003076s ]
[ sql ] [ SQL ] SELECT `id`,`username`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2)  AND `type` = 1 [ RunTime:0.002112s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001768s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 1  AND `deal_status` = '已成交' [ RunTime:0.002524s ]
[ sql ] [ SQL ] SELECT `create_time` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 1 LIMIT 1 [ RunTime:0.002982s ]
[ sql ] [ SQL ] SELECT `order_date` FROM `5kcrm_crm_contract` WHERE  `customer_id` = 1  AND `check_status` = 2 ORDER BY `order_date` ASC LIMIT 1 [ RunTime:0.004228s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002333s ]
[ sql ] [ SQL ] SELECT `customer_id` FROM `5kcrm_crm_customer` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` = 2  AND `deal_status` = '已成交' [ RunTime:0.003156s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:469]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:471]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
[ error ] [8]未定义变量: cycle[/Users/kinta/workspace/php/72crm/application/bi/model/Customer.php:491]
---------------------------------------------------------------
[ 2019-07-20T10:30:27+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.064058s][吞吐率：15.61req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000242s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001552s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001772s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001675s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002453s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005012s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003549s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002382s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001959s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001583s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002571s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002107s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001423s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001198s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001083s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001352s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001390s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001833s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001070s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001355s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003564s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001862s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001449s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001391s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001370s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001523s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:27+08:00 ] 0.0.0.0 POST /72crm/index.php/crm/business/statusList
[ info ] localhost/72crm/index.php/crm/business/statusList [运行时间：0.040060s][吞吐率：24.96req/s] [内存消耗：1,059.66kb] [文件加载：64]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'crm',
    1 => 'business',
    2 => 'statusList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/crm/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000555s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\crm\controller\Business->statusList[ /Users/kinta/workspace/php/72crm/application/crm/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005113s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003927s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001898s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.004309s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_type` WHERE  `structure_id` LIKE '%,1,%'  AND `status` = 1 OR `structure_id` = '' [ RunTime:0.002373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.004133s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 ORDER BY `order_id` ASC [ RunTime:0.001988s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:27+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.104956s][吞吐率：9.53req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000030s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.006929s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005054s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.004696s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002527s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006879s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004600s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.009428s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003020s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005632s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.011238s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.003462s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002212s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001742s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:27+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/funnel
[ info ] localhost/72crm/index.php/bi/business/funnel [运行时间：0.194535s][吞吐率：5.14req/s] [内存消耗：1,197.67kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000101s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'funnel',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '43',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type_id' => '1',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000519s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->funnel[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011808s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003837s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002755s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005326s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003419s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002719s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002787s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003271s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.006628s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002313s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002157s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001942s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004734s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003461s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.002213s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001910s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001774s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001617s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001902s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002965s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002567s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001794s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001806s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.002338s ]
[ sql ] [ SQL ] SELECT `type_id` FROM `5kcrm_crm_business_type` ORDER BY `type_id` ASC LIMIT 1 [ RunTime:0.004894s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.005266s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business_status` WHERE  `type_id` = 1 [ RunTime:0.016186s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.007607s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND (  status_id=1 ) LIMIT 1 [ RunTime:0.008634s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND (  status_id=2 ) LIMIT 1 [ RunTime:0.002923s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.001888s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 4 LIMIT 1 [ RunTime:0.001920s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.004363s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 5 LIMIT 1 [ RunTime:0.002262s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.002034s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 6 LIMIT 1 [ RunTime:0.001700s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.002120s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_time` BETWEEN 1546272000 AND 1577807999  AND `owner_user_id` IN (1,2)  AND `type_id` = 1  AND `status_id` = 7 LIMIT 1 [ RunTime:0.003304s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.063552s][吞吐率：15.74req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000022s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000208s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001680s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001681s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001399s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001702s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001712s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001494s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001131s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002644s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002485s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003488s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001764s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002499s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001903s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001991s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001614s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001409s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001596s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001540s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001489s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002454s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001835s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.003958s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003072s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.003567s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:29+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.111636s][吞吐率：8.96req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000131s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000932s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004137s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006525s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.023450s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001800s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002789s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.009012s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.012508s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.009227s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.012007s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.005532s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.003854s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001543s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:30+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/businessTrend
[ info ] localhost/72crm/index.php/bi/business/businessTrend [运行时间：0.293598s][吞吐率：3.41req/s] [内存消耗：1,214.08kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'businessTrend',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002029s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->businessTrend[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001713s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.012073s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.013334s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002607s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003244s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004059s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004098s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002760s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.006302s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004784s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004649s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.007901s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004107s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002977s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002399s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.007220s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.003240s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.011291s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.004593s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004206s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001592s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001506s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001923s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.003518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.003809s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.001940s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.002338s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001980s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.002275s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.001334s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.004737s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.003103s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002558s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.002247s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.001709s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.001436s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.002878s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.002691s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.002941s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.001683s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.002650s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002886s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.002790s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.002112s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.002037s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.001985s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.002345s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:107]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:109]
---------------------------------------------------------------
[ 2019-07-20T10:30:30+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/trendList
[ info ] localhost/72crm/index.php/bi/business/trendList [运行时间：0.423796s][吞吐率：2.36req/s] [内存消耗：1,209.57kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'trendList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002121s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->trendList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.013853s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.027877s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.011533s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002671s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008544s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003910s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001201s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.007871s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001499s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001819s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003810s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003606s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001658s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003286s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002347s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001561s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001155s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.004067s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.009987s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001449s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001805s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004886s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.007348s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005057s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002911s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001984s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002243s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.004850s ]
[ sql ] [ SQL ] SELECT `business_id`,`customer_id`,`money`,`type_id`,`status_id`,`deal_date`,`create_user_id`,`owner_user_id` FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 [ RunTime:0.007285s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business` WHERE  `business_id` = 1 LIMIT 1 [ RunTime:0.003977s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.002194s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.004739s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.005001s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.002264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.003822s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.002091s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.002901s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.002751s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.002568s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.002978s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.002192s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.003514s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.002307s ]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:30:32+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.071977s][吞吐率：13.89req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000028s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'business',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000310s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001714s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001691s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001479s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.005473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003195s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008737s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002333s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001756s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001366s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001437s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001594s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001390s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001266s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001803s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.001802s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001104s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002962s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001599s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002170s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001780s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001497s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001944s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.003861s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001486s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.000994s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:32+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/win
[ info ] localhost/72crm/index.php/bi/business/win [运行时间：0.183776s][吞吐率：5.44req/s] [内存消耗：1,215.09kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000081s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'win',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.006648s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->win[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006070s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.008694s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.004641s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001769s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004061s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003679s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001570s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.002979s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002192s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001454s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001416s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000980s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001793s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001385s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002330s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'business'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002321s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 65 LIMIT 1 [ RunTime:0.003300s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003062s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001780s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.003904s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002158s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004161s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004474s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002270s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001428s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001405s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.005028s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400 LIMIT 1 [ RunTime:0.002073s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1548950400  AND `is_end` = 1 LIMIT 1 [ RunTime:0.001480s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600 LIMIT 1 [ RunTime:0.001542s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1548950400 AND 1551369600  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002943s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000 LIMIT 1 [ RunTime:0.007683s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1551369600 AND 1554048000  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002544s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000 LIMIT 1 [ RunTime:0.002124s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1554048000 AND 1556640000  AND `is_end` = 1 LIMIT 1 [ RunTime:0.001841s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400 LIMIT 1 [ RunTime:0.001938s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1556640000 AND 1559318400  AND `is_end` = 1 LIMIT 1 [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400 LIMIT 1 [ RunTime:0.000991s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1559318400 AND 1561910400  AND `is_end` = 1 LIMIT 1 [ RunTime:0.000805s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800 LIMIT 1 [ RunTime:0.004547s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1561910400 AND 1564588800  AND `is_end` = 1 LIMIT 1 [ RunTime:0.003375s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200 LIMIT 1 [ RunTime:0.003150s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1564588800 AND 1567267200  AND `is_end` = 1 LIMIT 1 [ RunTime:0.001975s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200 LIMIT 1 [ RunTime:0.001450s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1567267200 AND 1569859200  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002524s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600 LIMIT 1 [ RunTime:0.002677s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1569859200 AND 1572537600  AND `is_end` = 1 LIMIT 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600 LIMIT 1 [ RunTime:0.001354s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1572537600 AND 1575129600  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002837s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000 LIMIT 1 [ RunTime:0.004102s ]
[ sql ] [ SQL ] SELECT COUNT(business_id) AS tp_count FROM `5kcrm_crm_business` WHERE  `create_user_id` IN (1,2)  AND `create_time` BETWEEN 1575129600 AND 1577808000  AND `is_end` = 1 LIMIT 1 [ RunTime:0.002650s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:203]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Business.php:205]
---------------------------------------------------------------
[ 2019-07-20T10:30:32+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.241984s][吞吐率：4.13req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000141s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001140s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012289s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.016445s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003307s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.016412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005027s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002569s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002892s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004635s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005423s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002516s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004836s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002738s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:32+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/business/trendList
[ info ] localhost/72crm/index.php/bi/business/trendList [运行时间：0.397703s][吞吐率：2.51req/s] [内存消耗：1,209.57kb] [文件加载：75]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000244s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'business',
    2 => 'trendList',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.003404s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Business->trendList[ /Users/kinta/workspace/php/72crm/application/bi/controller/Business.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011601s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.007505s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003508s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.013418s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.032444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008369s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001642s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003330s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002477s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001850s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004515s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002612s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003169s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001914s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001115s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001054s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001905s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000990s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002534s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002066s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001682s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business` [ RunTime:0.003998s ]
[ sql ] [ SQL ] SELECT `business_id`,`customer_id`,`money`,`type_id`,`status_id`,`deal_date`,`create_user_id`,`owner_user_id` FROM `5kcrm_crm_business` WHERE  `owner_user_id` IN (1,2)  AND `create_time` BETWEEN 1546272000 AND 1577807999 [ RunTime:0.001448s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_crm_business` WHERE  `business_id` = 1 LIMIT 1 [ RunTime:0.002653s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.002065s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.004728s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_type` [ RunTime:0.004100s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.002746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_business_status` [ RunTime:0.002994s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.002730s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.003901s ]
[ sql ] [ SQL ] SELECT `customer_id`,`name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.002165s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_customer` WHERE  `customer_id` = 5 LIMIT 1 [ RunTime:0.006006s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.004886s ]
[ sql ] [ SQL ] SELECT `user`.`id`,`username`,`img`,`thumb_img`,`realname`,`parent_id`,structure.name as structure_name,structure.id as structure_id FROM `5kcrm_admin_user` `user` LEFT JOIN `5kcrm_admin_structure` `structure` ON `structure`.`id`=`user`.`structure_id` WHERE  `user`.`id` = 2 LIMIT 1 [ RunTime:0.003576s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_status` WHERE  `status_id` = 5 LIMIT 1 [ RunTime:0.003089s ]
[ sql ] [ SQL ] SELECT `name` FROM `5kcrm_crm_business_type` WHERE  `type_id` = 1 LIMIT 1 [ RunTime:0.001382s ]
[ error ] [8]未定义数组索引: pageType[/Users/kinta/workspace/php/72crm/application/admin/model/Common.php:41]
---------------------------------------------------------------
[ 2019-07-20T10:30:35+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.086867s][吞吐率：11.51req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000048s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'contract',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000451s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003377s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002186s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003448s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002687s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002682s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001925s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002567s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004979s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001693s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002072s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005648s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002644s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001869s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002592s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 75 LIMIT 1 [ RunTime:0.001184s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001918s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001072s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001693s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002576s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002254s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001978s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002294s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002114s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.006159s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:36+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/contract/analysis
[ info ] localhost/72crm/index.php/bi/contract/analysis [运行时间：0.334079s][吞吐率：2.99req/s] [内存消耗：1,250.73kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000026s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'contract',
    2 => 'analysis',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '44',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'year' => '2019',
  'type' => 'count',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001134s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Contract->analysis[ /Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002989s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003372s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003686s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004241s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004458s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002235s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001663s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004484s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.000971s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001859s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003205s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002267s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001708s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001043s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.002229s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001285s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002881s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002651s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002109s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003083s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.004329s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001995s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001168s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001038s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.001831s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.004532s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.003504s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2017-12-01' AND '2018-01-01' LIMIT 1 [ RunTime:0.001353s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.002156s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.003571s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.005557s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.010776s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.007876s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.015249s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.011476s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.002503s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.001044s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.001291s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.001040s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.001079s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.001246s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.004255s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.003521s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.003550s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.003451s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.002168s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.006720s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.004431s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.002597s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.002408s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.006435s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.002773s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.001697s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.002537s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.002106s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.003190s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.003839s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.002955s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.002782s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.013470s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.001515s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.006061s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.002347s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.001840s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.002534s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.001811s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.002568s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.003251s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.005726s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:36+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.371556s][吞吐率：2.69req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000033s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001084s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006896s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003819s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.009192s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.008817s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004498s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002297s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002884s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002416s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005961s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.001485s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001238s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.001208s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:50+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/contract/analysis
[ info ] localhost/72crm/index.php/bi/contract/analysis [运行时间：0.295394s][吞吐率：3.39req/s] [内存消耗：1,235.33kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000076s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'contract',
    2 => 'analysis',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '45',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '2',
  'year' => '2019',
  'type' => 'count',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002042s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Contract->analysis[ /Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001538s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.001608s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001347s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002750s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.005786s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004808s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001698s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001370s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003214s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003851s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002663s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.005523s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001034s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.004625s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.004785s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.001851s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002351s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001927s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002396s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003785s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002259s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.006047s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.006660s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002840s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002716s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.004961s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.003010s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.001910s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.001552s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2017-12-01' AND '2018-01-01' LIMIT 1 [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.007503s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.006370s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.002298s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.001732s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.003758s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.003718s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.002937s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.001105s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.000715s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.003826s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.002200s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.002988s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.002693s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.003198s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.003397s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.001815s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.002041s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.002164s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.002622s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.005659s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.011299s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.002715s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.002057s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.002369s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.003669s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.002686s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.003585s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.003335s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.002716s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.001950s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.001759s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.001258s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.001664s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.002680s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.005378s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.002841s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.002867s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.001527s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.004231s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.004006s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.002257s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.002391s ]
---------------------------------------------------------------
[ 2019-07-20T10:30:55+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/contract/analysis
[ info ] localhost/72crm/index.php/bi/contract/analysis [运行时间：0.239983s][吞吐率：4.17req/s] [内存消耗：1,235.33kb] [文件加载：71]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000052s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'contract',
    2 => 'analysis',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '45',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '1',
  'year' => '2019',
  'type' => 'count',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000551s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Contract->analysis[ /Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003575s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002566s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003152s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004407s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002020s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001339s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002140s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001302s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002414s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002877s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000733s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.001933s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001017s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001029s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002485s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.001025s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003696s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002289s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002112s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002051s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001747s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.002244s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.003211s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.002350s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.001983s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.002721s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2017-12-01' AND '2018-01-01' LIMIT 1 [ RunTime:0.003441s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.003649s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.002563s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.002653s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.002038s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.002841s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.003676s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.002547s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.003543s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.005626s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.004950s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.002840s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.002092s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.001028s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.002873s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.003208s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.002719s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.002221s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.001755s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.001759s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.002248s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.001747s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.001447s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.001274s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.001946s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.001183s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.002001s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.003928s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.003054s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.001618s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.002335s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.006223s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.005501s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.004707s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.001771s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.001885s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.004263s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.003208s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.003335s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.001398s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.002708s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.003552s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:16+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.085889s][吞吐率：11.64req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000063s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'contract',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000462s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003400s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005282s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003336s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.006907s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003663s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002122s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001875s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001853s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001913s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001688s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002010s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.001422s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001498s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001458s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 75 LIMIT 1 [ RunTime:0.001419s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001560s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004597s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002870s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001968s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001694s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001608s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002411s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.003067s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001706s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001619s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:16+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.057613s][吞吐率：17.36req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000032s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000511s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002553s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006669s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.006652s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001945s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.001430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.001680s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001514s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003088s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002651s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.006300s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.002236s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:16+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/contract/analysis
[ info ] localhost/72crm/index.php/bi/contract/analysis [运行时间：0.358110s][吞吐率：2.79req/s] [内存消耗：1,250.59kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000023s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'contract',
    2 => 'analysis',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '44',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'year' => '2019',
  'type' => 'money',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001083s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Contract->analysis[ /Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004568s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.010190s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001446s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003703s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.005916s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004703s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001821s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.003006s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002186s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.004450s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002165s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.009533s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003199s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004637s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.005191s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003488s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.002636s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002996s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003160s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.008387s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002566s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003192s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002185s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.006568s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002428s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002609s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.004178s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.005161s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.002666s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.003492s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2017-12-01' AND '2018-01-01' LIMIT 1 [ RunTime:0.001049s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.001113s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.001637s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.003752s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.005291s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.002139s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.003234s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.003115s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.005833s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.004133s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.010649s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.002357s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.005178s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.002649s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.002569s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.001719s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.002179s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.004908s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.012482s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.003100s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.003511s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.002733s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.002012s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.003160s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.002042s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.000929s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.003435s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.001891s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.011655s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.006139s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.006073s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.002721s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.001988s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.004021s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.002801s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.002663s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.003172s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.003553s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.003961s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:23+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.100907s][吞吐率：9.91req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000138s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'contract',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000343s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001987s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003223s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.002892s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004947s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.002260s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.006886s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005456s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001383s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003500s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003625s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003443s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.004120s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001829s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003072s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 75 LIMIT 1 [ RunTime:0.001989s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003774s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003619s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002104s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001777s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004730s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002828s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002591s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001839s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001286s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.001226s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:23+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.055377s][吞吐率：18.06req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000034s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000300s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003281s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.006155s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003615s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001682s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.008350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003414s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003406s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002375s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.004930s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002732s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.002320s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.003992s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:23+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/contract/analysis
[ info ] localhost/72crm/index.php/bi/contract/analysis [运行时间：0.345401s][吞吐率：2.90req/s] [内存消耗：1,250.12kb] [文件加载：72]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000029s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'contract',
    2 => 'analysis',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '43',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'year' => '2019',
  'type' => 'back',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.001624s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Contract->analysis[ /Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006106s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.002688s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.001581s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001823s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004358s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004214s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005496s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005533s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.002141s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001662s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003100s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005252s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003619s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.004248s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.004494s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003033s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.003192s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002736s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001004s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004579s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003470s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000653s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.002771s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.001286s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.001755s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.002482s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2017-12-01' AND '2018-01-01' LIMIT 1 [ RunTime:0.001869s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.002624s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-1-01' AND '2019-2-01' LIMIT 1 [ RunTime:0.002807s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-1-01' AND '2018-2-01' LIMIT 1 [ RunTime:0.004076s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.004308s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-2-01' AND '2019-3-01' LIMIT 1 [ RunTime:0.003437s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.002476s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-2-01' AND '2018-3-01' LIMIT 1 [ RunTime:0.001525s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.002968s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-3-01' AND '2019-4-01' LIMIT 1 [ RunTime:0.004139s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.002367s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-3-01' AND '2018-4-01' LIMIT 1 [ RunTime:0.001738s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.001720s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-4-01' AND '2019-5-01' LIMIT 1 [ RunTime:0.002743s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.003502s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-4-01' AND '2018-5-01' LIMIT 1 [ RunTime:0.003107s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.003718s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-5-01' AND '2019-6-01' LIMIT 1 [ RunTime:0.004202s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.002506s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-5-01' AND '2018-6-01' LIMIT 1 [ RunTime:0.006917s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.002452s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-6-01' AND '2019-7-01' LIMIT 1 [ RunTime:0.001629s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.003432s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-6-01' AND '2018-7-01' LIMIT 1 [ RunTime:0.004238s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.002793s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-7-01' AND '2019-8-01' LIMIT 1 [ RunTime:0.002043s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.004416s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-7-01' AND '2018-8-01' LIMIT 1 [ RunTime:0.003102s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.003465s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-8-01' AND '2019-9-01' LIMIT 1 [ RunTime:0.002434s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.003840s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-8-01' AND '2018-9-01' LIMIT 1 [ RunTime:0.001577s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.030367s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-9-01' AND '2019-10-01' LIMIT 1 [ RunTime:0.006186s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.004063s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-9-01' AND '2018-10-01' LIMIT 1 [ RunTime:0.001881s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.002344s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-10-01' AND '2019-11-01' LIMIT 1 [ RunTime:0.002946s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.003042s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-10-01' AND '2018-11-01' LIMIT 1 [ RunTime:0.004790s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-12-01' AND '2020-01-01' LIMIT 1 [ RunTime:0.005108s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-11-01' AND '2019-12-01' LIMIT 1 [ RunTime:0.003416s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-12-01' AND '2019-01-01' LIMIT 1 [ RunTime:0.004762s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2018-11-01' AND '2018-12-01' LIMIT 1 [ RunTime:0.004120s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:26+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/subIndex
[ info ] localhost/72crm/index.php/admin/structures/subIndex [运行时间：0.110443s][吞吐率：9.05req/s] [内存消耗：1,207.52kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000923s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'subIndex',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '22',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'm' => 'bi',
  'c' => 'contract',
  'a' => 'read',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000642s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->subIndex[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004218s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.005966s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003801s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004615s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.008931s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001720s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003237s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003189s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003195s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.005560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002217s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002079s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.001490s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001949s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 75 LIMIT 1 [ RunTime:0.004196s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004700s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002541s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002592s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.001948s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.001948s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.002122s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT `ast`.* FROM `5kcrm_admin_user` `au` LEFT JOIN `5kcrm_admin_structure` `ast` ON `ast`.`id`=`au`.`structure_id` WHERE  `au`.`id` IN (1,2) GROUP BY `structure_id` ORDER BY `structure_id` ASC [ RunTime:0.005677s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:26+08:00 ] 0.0.0.0 POST /72crm/index.php/admin/structures/getSubUserByStructrue
[ info ] localhost/72crm/index.php/admin/structures/getSubUserByStructrue [运行时间：0.085617s][吞吐率：11.68req/s] [内存消耗：1,173.48kb] [文件加载：68]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'structures',
    2 => 'getSubUserByStructrue',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '14',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/admin/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000378s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Structures->getSubUserByStructrue[ /Users/kinta/workspace/php/72crm/application/admin/controller/Structures.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002868s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009635s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003084s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003660s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003686s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.003670s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.014473s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005194s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.011005s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.001018s ]
[ sql ] [ SQL ] SELECT `id`,`realname` FROM `5kcrm_admin_user` WHERE  `id` IN (1,2) [ RunTime:0.005825s ]
---------------------------------------------------------------
[ 2019-07-20T10:31:27+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/contract/summary
[ info ] localhost/72crm/index.php/bi/contract/summary [运行时间：0.431194s][吞吐率：2.32req/s] [内存消耗：1,263.64kb] [文件加载：77]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000031s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'contract',
    2 => 'summary',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '33',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
  'structure_id' => '1',
  'user_id' => '',
  'type' => 'year',
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.000336s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Contract->summary[ /Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.006233s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.009333s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003051s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.007947s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.004774s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.004110s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004062s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_structure` [ RunTime:0.005500s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_structure` WHERE  `pid` = 1 [ RunTime:0.007044s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `structure_id` IN (1) [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002944s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.003062s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.003088s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'crm'  AND `level` = 1 LIMIT 1 [ RunTime:0.000902s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'contract'  AND `level` = 2  AND `pid` = 1 LIMIT 1 [ RunTime:0.003708s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 42 LIMIT 1 [ RunTime:0.002416s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.003033s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005070s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002290s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001840s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005798s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002655s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.002417s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.001548s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.001323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_contract` [ RunTime:0.002368s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-1' AND '2019-2-1' LIMIT 1 [ RunTime:0.002320s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-1-1' AND '2019-2-1' LIMIT 1 [ RunTime:0.002372s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_receivables` [ RunTime:0.004244s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-1-1' AND '2019-2-1' LIMIT 1 [ RunTime:0.004448s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-1' AND '2019-3-1' LIMIT 1 [ RunTime:0.006033s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-2-1' AND '2019-3-1' LIMIT 1 [ RunTime:0.003338s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-2-1' AND '2019-3-1' LIMIT 1 [ RunTime:0.001132s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-1' AND '2019-4-1' LIMIT 1 [ RunTime:0.006875s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-3-1' AND '2019-4-1' LIMIT 1 [ RunTime:0.002881s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-3-1' AND '2019-4-1' LIMIT 1 [ RunTime:0.002510s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-1' AND '2019-5-1' LIMIT 1 [ RunTime:0.004079s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-4-1' AND '2019-5-1' LIMIT 1 [ RunTime:0.003978s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-4-1' AND '2019-5-1' LIMIT 1 [ RunTime:0.004246s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-1' AND '2019-6-1' LIMIT 1 [ RunTime:0.003921s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-5-1' AND '2019-6-1' LIMIT 1 [ RunTime:0.002571s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-5-1' AND '2019-6-1' LIMIT 1 [ RunTime:0.003393s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-1' AND '2019-7-1' LIMIT 1 [ RunTime:0.003248s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-6-1' AND '2019-7-1' LIMIT 1 [ RunTime:0.013991s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-6-1' AND '2019-7-1' LIMIT 1 [ RunTime:0.021053s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-1' AND '2019-8-1' LIMIT 1 [ RunTime:0.008707s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-7-1' AND '2019-8-1' LIMIT 1 [ RunTime:0.003951s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-7-1' AND '2019-8-1' LIMIT 1 [ RunTime:0.003073s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-1' AND '2019-9-1' LIMIT 1 [ RunTime:0.002885s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-8-1' AND '2019-9-1' LIMIT 1 [ RunTime:0.009180s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-8-1' AND '2019-9-1' LIMIT 1 [ RunTime:0.007591s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-1' AND '2019-10-1' LIMIT 1 [ RunTime:0.007384s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-9-1' AND '2019-10-1' LIMIT 1 [ RunTime:0.002083s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-9-1' AND '2019-10-1' LIMIT 1 [ RunTime:0.001468s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-1' AND '2019-11-1' LIMIT 1 [ RunTime:0.001620s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-10-1' AND '2019-11-1' LIMIT 1 [ RunTime:0.003682s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-10-1' AND '2019-11-1' LIMIT 1 [ RunTime:0.004248s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-1' AND '2019-12-1' LIMIT 1 [ RunTime:0.009243s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-11-1' AND '2019-12-1' LIMIT 1 [ RunTime:0.005107s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-11-1' AND '2019-12-1' LIMIT 1 [ RunTime:0.007772s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-12-1' AND '2020-1-1' LIMIT 1 [ RunTime:0.003888s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `order_date` BETWEEN '2019-12-1' AND '2020-1-1' LIMIT 1 [ RunTime:0.002466s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `return_time` BETWEEN '2019-12-1' AND '2020-1-1' LIMIT 1 [ RunTime:0.003930s ]
[ sql ] [ SQL ] SELECT COUNT(contract_id) AS tp_count FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001354s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_contract` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001566s ]
[ sql ] [ SQL ] SELECT SUM(money) AS tp_sum FROM `5kcrm_crm_receivables` WHERE  `owner_user_id` IN (1,2)  AND `check_status` = 2  AND `create_time` BETWEEN 1546272000 AND 1577807999 LIMIT 1 [ RunTime:0.001528s ]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
[ error ] [8]未定义数组索引: day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:218]
[ error ] [8]未定义数组索引: next_day[/Users/kinta/workspace/php/72crm/application/bi/controller/Contract.php:220]
---------------------------------------------------------------
[ 2019-07-20T10:31:38+08:00 ] 0.0.0.0 POST /72crm/index.php/bi/customer/addressAnalyse
[ info ] localhost/72crm/index.php/bi/customer/addressAnalyse [运行时间：0.245385s][吞吐率：4.08req/s] [内存消耗：1,259.84kb] [文件加载：73]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitConfigBehavior @app_init [ RunTime:0.000059s ]
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/thinkphp/lang/zh-cn.php
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'bi',
    1 => 'customer',
    2 => 'addressAnalyse',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '0',
  'authkey' => 'e05cc0206fdd31453d2abcbb7601b703',
  'accept' => 'application/json, text/plain, */*',
  'origin' => 'http://localhost',
  'sessionid' => 'kc0tdhsp8avs3715ob1hau2qac',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded;charset=UTF-8',
  'referer' => 'http://localhost/72crm/',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.9,en;q=0.8,und;q=0.7',
  'cookie' => 'PHPSESSID=kc0tdhsp8avs3715ob1hau2qac',
)
[ info ] [ PARAM ] array (
)
[ info ] [ LANG ] /Users/kinta/workspace/php/72crm/application/bi/lang/zh-cn.php
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\AuthenticateBehavior @check_auth [ RunTime:0.002289s ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => '',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\bi\controller\Customer->addressAnalyse[ /Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004404s ] mysql:host=127.0.0.1;port=32768;dbname=crm;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_user` [ RunTime:0.003180s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1  AND `status` IN (1,2) LIMIT 1 [ RunTime:0.003294s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.004229s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_access` [ RunTime:0.003777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_group` [ RunTime:0.002313s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.004477s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002777s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002038s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.003007s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.002309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_admin_rule` [ RunTime:0.002764s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_rule` [ RunTime:0.002076s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'bi'  AND `level` = 1 LIMIT 1 [ RunTime:0.003141s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'customer'  AND `level` = 2  AND `pid` = 62 LIMIT 1 [ RunTime:0.001971s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_rule` WHERE  `name` = 'read'  AND `level` = 3  AND `pid` = 63 LIMIT 1 [ RunTime:0.002841s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001240s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.005488s ]
[ sql ] [ SQL ] SELECT `user_id` FROM `5kcrm_admin_access` WHERE  `group_id` = 1 [ RunTime:0.002471s ]
[ sql ] [ SQL ] SELECT * FROM `5kcrm_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.002041s ]
[ sql ] [ SQL ] SELECT `5kcrm_admin_group`.*,pivot.user_id AS pivot__user_id,pivot.group_id AS pivot__group_id FROM `5kcrm_admin_group` INNER JOIN `5kcrm_admin_access` `pivot` ON `pivot`.`group_id`=`5kcrm_admin_group`.`id` WHERE  `pivot`.`user_id` = 1 [ RunTime:0.002741s ]
[ sql ] [ SQL ] SELECT `types` FROM `5kcrm_admin_group` WHERE  `id` IN (1) GROUP BY `types` [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 0 [ RunTime:0.000963s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 1 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT `id` FROM `5kcrm_admin_user` WHERE  `parent_id` = 2 [ RunTime:0.000997s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `5kcrm_crm_customer` [ RunTime:0.001997s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%北京%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%北京%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%上海%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%上海%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%天津%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%天津%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000714s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%广东%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000668s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%广东%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%浙江%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%浙江%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%海南%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%海南%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.005537s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%福建%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.003527s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%福建%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001861s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%湖南%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000934s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%湖南%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001162s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%湖北%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.009172s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%湖北%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.015671s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%重庆%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.002853s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%重庆%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001365s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%辽宁%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001232s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%辽宁%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001427s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%吉林%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001148s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%吉林%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001486s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%黑龙江%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001619s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%黑龙江%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.007856s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%河北%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001900s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%河北%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001097s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%河南%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%河南%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%山东%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%山东%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%陕西%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%陕西%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001125s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%甘肃%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001381s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%甘肃%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%青海%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001355s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%青海%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001773s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%新疆%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.003979s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%新疆%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.018414s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%山西%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001408s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%山西%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001523s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%四川%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001373s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%四川%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001585s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%贵州%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%贵州%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%安徽%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001154s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%安徽%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%江西%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001128s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%江西%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%江苏%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%江苏%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.000955s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%云南%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%云南%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%内蒙古%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001218s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%内蒙古%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001058s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%广西%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001745s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%广西%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.002114s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%西藏%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.001735s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%西藏%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.003051s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%宁夏%'  AND `owner_user_id` IN (1,2) LIMIT 1 [ RunTime:0.002628s ]
[ sql ] [ SQL ] SELECT COUNT(customer_id) AS tp_count FROM `5kcrm_crm_customer` WHERE  `address` LIKE '%宁夏%'  AND `owner_user_id` IN (1,2)  AND `deal_status` = '已成交' LIMIT 1 [ RunTime:0.001798s ]
[ error ] [8]未定义变量: param[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:617]
[ error ] [8]未定义变量: param[/Users/kinta/workspace/php/72crm/application/bi/controller/Customer.php:620]
